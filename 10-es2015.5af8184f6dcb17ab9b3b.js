(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+jW5":function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||r,this.length>0)for(var i=(this.length>>1)-1;i>=0;i--)this._down(i)}function r(t,e){return t<e?-1:t>e?1:0}t.exports=n,t.exports.default=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,i=this.compare,n=e[t];t>0;){var r=t-1>>1,o=e[r];if(i(n,o)>=0)break;e[t]=o,t=r}e[t]=n},_down:function(t){for(var e=this.data,i=this.compare,n=this.length>>1,r=e[t];t<n;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&i(e[a],s)<0&&(o=a,s=e[a]),i(s,r)>=0)break;e[t]=s,t=o}e[t]=r}}},"0I/V":function(t,e,i){"use strict";i.r(e);var n={};i.r(n),i.d(n,"normalizePoint",(function(){return Cr})),i.d(n,"normalizeMultiline",(function(){return Or})),i.d(n,"wrapAngleTo180",(function(){return jr})),i.d(n,"geoToPoint",(function(){return Lr}));var r={};i.r(r),i.d(r,"Mercator",(function(){return no})),i.d(r,"Miller",(function(){return xo})),i.d(r,"Eckert6",(function(){return Mo})),i.d(r,"Orthographic",(function(){return So})),i.d(r,"Stereographic",(function(){return Vo})),i.d(r,"Albers",(function(){return No})),i.d(r,"AlbersUsa",(function(){return Fo})),i.d(r,"NaturalEarth1",(function(){return Bo})),i.d(r,"AzimuthalEqualArea",(function(){return Ho})),i.d(r,"EqualEarth",(function(){return fa})),i.d(r,"Projection",(function(){return xr}));var o={};i.r(o),i.d(o,"geoArea",(function(){return he})),i.d(o,"geoBounds",(function(){return Ge})),i.d(o,"geoCentroid",(function(){return ja})),i.d(o,"geoCircle",(function(){return ri})),i.d(o,"geoClipAntimeridian",(function(){return Di})),i.d(o,"geoClipCircle",(function(){return Ei})),i.d(o,"geoClipExtent",(function(){return La})),i.d(o,"geoClipRectangle",(function(){return Ri})),i.d(o,"geoContains",(function(){return Na})),i.d(o,"geoDistance",(function(){return br})),i.d(o,"geoGraticule",(function(){return Rr})),i.d(o,"geoGraticule10",(function(){return Gr})),i.d(o,"geoInterpolate",(function(){return hr})),i.d(o,"geoLength",(function(){return mr})),i.d(o,"geoPath",(function(){return ur})),i.d(o,"geoAlbers",(function(){return Eo})),i.d(o,"geoAlbersUsa",(function(){return Ao})),i.d(o,"geoAzimuthalEqualArea",(function(){return Wo})),i.d(o,"geoAzimuthalEqualAreaRaw",(function(){return zo})),i.d(o,"geoAzimuthalEquidistant",(function(){return Fa})),i.d(o,"geoAzimuthalEquidistantRaw",(function(){return Aa})),i.d(o,"geoConicConformal",(function(){return Ba})),i.d(o,"geoConicConformalRaw",(function(){return Ga})),i.d(o,"geoConicEqualArea",(function(){return Do})),i.d(o,"geoConicEqualAreaRaw",(function(){return ko})),i.d(o,"geoConicEquidistant",(function(){return Wa})),i.d(o,"geoConicEquidistantRaw",(function(){return za})),i.d(o,"geoEqualEarth",(function(){return da})),i.d(o,"geoEqualEarthRaw",(function(){return qo})),i.d(o,"geoEquirectangular",(function(){return fn})),i.d(o,"geoEquirectangularRaw",(function(){return un})),i.d(o,"geoGnomonic",(function(){return Za})),i.d(o,"geoGnomonicRaw",(function(){return Ha})),i.d(o,"geoIdentity",(function(){return Ya})),i.d(o,"geoProjection",(function(){return sn})),i.d(o,"geoProjectionMutator",(function(){return ln})),i.d(o,"geoMercator",(function(){return eo})),i.d(o,"geoMercatorRaw",(function(){return to})),i.d(o,"geoNaturalEarth1",(function(){return Go})),i.d(o,"geoNaturalEarth1Raw",(function(){return Ro})),i.d(o,"geoOrthographic",(function(){return Lo})),i.d(o,"geoOrthographicRaw",(function(){return jo})),i.d(o,"geoStereographic",(function(){return wo})),i.d(o,"geoStereographicRaw",(function(){return To})),i.d(o,"geoTransverseMercator",(function(){return Ka})),i.d(o,"geoTransverseMercatorRaw",(function(){return Ua})),i.d(o,"geoRotation",(function(){return ei})),i.d(o,"geoStream",(function(){return ie})),i.d(o,"geoTransform",(function(){return Bi}));var a=i("mrSG"),s=i("wbyA"),l=i("FIKH"),u=i("8sDm"),h=i("2Uh3"),c=i("vjOD"),p=i("Ao2X"),d=i("BOQn"),f=i("hM+/"),g=i("4kOV"),m=i("K4eF"),y=i("wSV/"),v=i("IILc"),b=i("kWzP"),x=i("uqJu"),P=i("XS9E"),_=i("B6iY"),M=i("VMkG"),C=i("ShRs"),O=i("6iw+"),j=function(t){function e(){var e=t.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"label",{get:function(){var t=this;if(!this._label){var e=this.component.labels.create();this._label=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new _.b((function(){b.hasValue(t.component)&&t.component.labels.removeValue(e)})))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.setProperty("color",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueLabel",{get:function(){var t=this;if(!this._valueLabel){var e=this.component.valueLabels.create();this._valueLabel=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new _.b((function(){b.hasValue(t.component)&&t.component.valueLabels.removeValue(e)})))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemContainer",{get:function(){var t=this;if(!this._itemContainer){var e=this.component,i=e.itemContainers.create();i.parent=e,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",(function(t){e.toggleDataItem(t.target.dataItem)}),void 0,!1),i.focusable&&(i.events.on("focus",(function(t){e.focusedItem=t.target.dataItem}),void 0,!1),i.events.on("blur",(function(t){e.focusedItem=void 0}),void 0,!1)),this._disposers.push(new _.b((function(){b.hasValue(t.component)&&t.component.itemContainers.removeValue(i)}))),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var n=this.dataContext;if((n instanceof l.a||n instanceof P.a)&&!n.isDisposed()){var r=function(t){i.readerChecked=t.visible,i.events.disableType("toggled"),i.isActive=!t.visible,i.events.enableType("toggled")};n.addDisposer(new _.b((function(){t.component&&t.component.dataItems.remove(t)}))),n instanceof P.a?(i.addDisposer(n.events.on("visibilitychanged",r,void 0,!1)),i.addDisposer(n.events.on("hidden",(function(t){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled")}),void 0,!1)),i.addDisposer(n.events.on("shown",(function(t){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled")}),void 0,!1))):i.addDisposer(n.events.on("visibilitychanged",r,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marker",{get:function(){var t=this;if(!this._marker){var e=this.component.markers.create();this._marker=e,e.parent=this.itemContainer,this.addSprite(e),this._disposers.push(e),this._disposers.push(new _.b((function(){b.hasValue(t.component)&&t.component.markers.removeValue(e)})))}return this._marker},enumerable:!0,configurable:!0}),e}(l.a),L=function(){this.createMarker=!0},S=function(t){function e(){var e=t.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var i=new c.a;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=M.a.pointer,i.background.fillOpacity=0,e.itemContainers=new u.e(i),e._disposers.push(new u.c(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push(Object(g.b)().body.events.on("keyup",(function(t){d.b.isKey(t.event,"enter")&&e.focusedItem&&e.focusedItem.itemContainer.clickable&&e.toggleDataItem(e.focusedItem)}),e));var n=new y.a,r=new c.a;r.width=23,r.height=23,r.interactionsEnabled=!1,r.applyOnClones=!0,r.setStateOnChildren=!0,r.background.fillOpacity=0,r.background.strokeOpacity=0,r.propertyFields.fill="fill",r.valign="middle";var o=n.getFor("disabledBackground");r.events.on("childadded",(function(t){var e=t.newValue.states.create("active");e.properties.stroke=o,e.properties.fill=o})),e.markers=new u.e(r),e._disposers.push(new u.c(e.markers)),e._disposers.push(e.markers.template);var a=r.createChild(h.a);a.width=Object(m.c)(100),a.height=Object(m.c)(100),a.applyOnClones=!0,a.propertyFields.fill="fill",a.strokeOpacity=0;var s=new p.a;s.text="{name}",s.margin(0,5,0,5),s.valign="middle",s.applyOnClones=!0,s.states.create("active").properties.fill=n.getFor("disabledBackground"),e.labels=new u.e(s),e._disposers.push(new u.c(e.labels)),e._disposers.push(e.labels.template),s.interactionsEnabled=!1,s.truncate=!0,s.fullWords=!1;var l=new p.a;return l.margin(0,5,0,0),l.valign="middle",l.width=50,l.align="right",l.textAlign="end",l.applyOnClones=!0,l.states.create("active").properties.fill=n.getFor("disabledBackground"),l.interactionsEnabled=!1,e.valueLabels=new u.e(l),e._disposers.push(new u.c(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},e.prototype.createDataItem=function(){return new j},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e);var i=e.itemContainer,n=e.marker;v.used(e.label);var r=e.valueLabel;i.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e,e.label.width=void 0,"right"==r.align&&(r.width=void 0);var o=e.dataContext.legendSettings,a=e.dataContext;!a.createLegendMarker||this.useDefaultMarker&&a instanceof P.a||e.childrenCreated||(a.createLegendMarker(n),e.childrenCreated=!0),a.updateLegendValue&&a.updateLegendValue(),a.component&&a.component.updateLegendValue&&a.component.updateLegendValue(a),r.invalid&&r.validate(),r.__disabled=""==r.text||null==r.text,!o||null==o.itemValueText&&null==o.valueText||(r.__disabled=!1);var s=e.dataContext.visible;void 0===s&&(s=!0),s=b.toBoolean(s),e.dataContext.visible=s,i.events.disableType("toggled"),i.isActive=!s,i.setState(i.isActive?"active":"default",0),i.events.enableType("toggled")},e.prototype.afterDraw=function(){var e=this,i=this.getPropertyValue("maxWidth"),n=0;this.labels.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>n&&(n=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var r=0;this.valueLabels.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>r&&(r=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var o=0;this.markers.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>o&&(o=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var a,s=this.itemContainers.template,l=s.pixelMarginRight+s.pixelMarginLeft,u=n+r+o;b.isNumber(i)?((i-=l)>u&&(i=u),a=i-o-r):a=n,this.labels.each((function(t){("right"==e.valueLabels.template.align||t.measuredWidth>a)&&(t.width=a-t.pixelMarginLeft-t.pixelMarginRight)})),"right"==this.valueLabels.template.align&&this.valueLabels.each((function(t){t.width=r})),t.prototype.afterDraw.call(this)},e.prototype.handleScrollbar=function(){var t=this.scrollbar;this.scrollable&&t&&(t.height=this.measuredHeight,t.x=this.measuredWidth-t.pixelWidth-t.pixelMarginLeft,this.contentHeight>this.measuredHeight?(t.visible=!0,t.thumb.height=t.height*this.measuredHeight/this.contentHeight,this.paddingRight=t.pixelWidth+t.pixelMarginLeft+ +t.pixelMarginRight):t.visible=!1,this.updateMasks())},Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){this.setPropertyValue("position",t)&&("left"==t||"right"==t?(this.margin(10,5,10,10),this.valign="middle",this.valueLabels.template.align="right",b.isNumber(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=Object(m.c)(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(t){this.setPropertyValue("useDefaultMarker",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(t){if(this.setPropertyValue("scrollable",t,!0))if(t){var e=this.createChild(O.a);this.scrollbar=e,e.isMeasured=!1,e.orientation="vertical",e.endGrip.__disabled=!0,e.startGrip.__disabled=!0,e.visible=!1,e.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(e.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),e.prototype.handleWheel=function(t){var e=t.shift.y,i=this.scrollbar;if(i){var n=e/1e3*this.measuredHeight/this.contentHeight,r=i.end-i.start;e>0?(i.start=x.max(0,i.start-n),i.end=i.start+r):(i.end=x.min(1,i.end-n),i.start=i.end-r)}},e.prototype.updateMasks=function(){var t=this;this.scrollbar&&this.itemContainers.each((function(e){e.dy=-t.scrollbar.thumb.pixelY*t.contentHeight/t.measuredHeight,e.maskRectangle={x:0,y:-e.dy,width:t.measuredWidth,height:t.measuredHeight}}))},e.prototype.toggleDataItem=function(t){var e=t.dataContext;!e.visible||e.isHiding||e instanceof P.a&&e.isHidden?(t.color=t.colorOrig,t.itemContainer.isActive=!1,!0===e.hidden&&(e.hidden=!1),e.show?e.show():e.visible=!0):(t.itemContainer.isActive=!0,e.hide?e.hide():e.visible=!1,t.color=(new y.a).getFor("disabledBackground"))},Object.defineProperty(e.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.handleDataItemPropertyChange=function(t,e){t.valueLabel.invalidate(),t.label.invalidate()},e}(s.a);f.c.registeredClasses.Legend=S,C.c.push({relevant:C.b.widthXS,state:function(t,e){if(t instanceof S&&("left"==t.position||"right"==t.position)){var i=t.states.create(e);return i.properties.position="bottom",i}return null}}),C.c.push({relevant:C.b.heightXS,state:function(t,e){if(t instanceof S&&("top"==t.position||"bottom"==t.position)){var i=t.states.create(e);return i.properties.position="right",i}return null}}),C.c.push({relevant:C.b.isXS,state:function(t,e){if(t instanceof S){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var T=i("zQMt"),w=i("A9VE"),V=i("2PvH"),I=function(t){function e(){var e=t.call(this)||this;e._axis=new _.d,e.dataItems=new u.b,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var i=new y.a,n=new V.a;n.fill=i.getFor("background"),n.stroke=Object(w.c)(),n.fillOpacity=.9,n.zIndex=0,e._fillShape=n;var r=new V.a;r.fill=Object(w.c)(),r.stroke=i.getFor("grid"),r.strokeOpacity=.3,r.zIndex=1,e._startLine=r;var o=new V.a;return o.fill=Object(w.c)(),o.stroke=Object(w.c)("#000000"),o.strokeOpacity=.3,o.zIndex=2,e._endLine=o,e._disposers.push(e._axis),e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(e.prototype,"startLine",{get:function(){return this._startLine},set:function(t){this._startLine&&this._startLine.dispose(),this._startLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLine",{get:function(){return this._endLine},set:function(t){this._endLine&&this._endLine.dispose(),this._endLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillShape",{get:function(){return this._fillShape},set:function(t){this._fillShape&&this._fillShape.dispose(),this._fillShape=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),e.prototype.addBreakSprite=function(t){t.parent=this,t.isMeasured=!1,this._disposers.push(t)},Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis.get()},set:function(t){if(this._axis.get()!==t){this._axis.set(t,t.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),t.renderer.createBreakSprites(this);var e=t.axisBreaks.template;this.startLine.copyFrom(e.startLine),this.endLine.copyFrom(e.endLine),this.fillShape.copyFrom(e.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(t){this.setPropertyValue("breakSize",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.draw=function(){t.prototype.draw.call(this),this.axis&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(e.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(t){this.setPropertyValue("startValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(t){this.setPropertyValue("endValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),e}(c.a);f.c.registeredClasses.AxisBreak=I;var k,D=i("dLPY"),E=i("igZc"),N=i("A1fN"),A=i("+Tbt"),F=i("bg8p"),R=function(t){function e(){var e=t.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.grid).disabled)return;e=i.clone()}else{if((i=t.renderer.grid.template).disabled)return;e=t.renderer.grid.create(),this._disposers.push(new _.b((function(){t.renderer.grid.removeValue(e)})))}this.grid=e,e.shouldClone=!1,this._disposers.push(e),e.axis=this.component}}return this._grid},set:function(t){this._grid&&this._grid!=t&&(F.remove(this.sprites,this._grid),this._grid.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(F.remove(t.dataItem.sprites,t),t.dataItem.grid=void 0),this.addSprite(t)),this._grid=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){if(!this._tick){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.tick).disabled)return;e=i.clone()}else{if((i=t.renderer.ticks.template).disabled)return;e=t.renderer.ticks.create(),this._disposers.push(new _.b((function(){t.renderer.ticks.removeValue(e)})))}this.tick=e,e.axis=this.component,e.shouldClone=!1,this._disposers.push(e)}}return this._tick},set:function(t){this._tick&&this._tick!=t&&(F.remove(this.sprites,this._tick),this._tick.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(F.remove(t.dataItem.sprites,t),t.dataItem.tick=void 0),this.addSprite(t)),this._tick=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){if(!this._label){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.label).disabled)return;e=i.clone()}else{if((i=t.renderer.labels.template).disabled)return;e=t.renderer.labels.create(),this._disposers.push(new _.b((function(){t.renderer.labels.removeValue(e)})))}this._disposers.push(e),this.label=e,e.shouldClone=!1,e.axis=this.component,e.virtualParent=t}}return this._label},set:function(t){this._label&&this._label!=t&&(F.remove(this.sprites,this._label),this._label.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(F.remove(t.dataItem.sprites,t),t.dataItem.label=void 0),this.addSprite(t)),this._label=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisFill",{get:function(){if(!this._axisFill){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if(i=t.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;e=i.clone()}else{if((i=t.renderer.axisFills.template).disabled)return;e=t.renderer.axisFills.create(),this._disposers.push(new _.b((function(){t.renderer.axisFills.removeValue(e)})))}this.axisFill=e,e.shouldClone=!1,this._disposers.push(e)}}return this._axisFill},set:function(t){this._axisFill&&this._axisFill!=t&&(F.remove(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(F.remove(t.dataItem.sprites,t),t.dataItem.axisFill=void 0),t.axis=this.component,this.addSprite(t)),this._axisFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this._label&&(this._label.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contents",{get:function(){if(!this._contents){var t=new c.a;this.addSprite(t),t.isMeasured=!1,this._contents=t;var e=this.component;if(e){var i=e.renderer.createFill(this.component);i.disabled=!1,i.axis=e,this.addSprite(i),this._mask=i,t.mask=i}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(t){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),t&&t.dataItems.push(this),this._axisBreak=t},enumerable:!0,configurable:!0}),e.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},e.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},e.prototype.configOrder=function(t,e){return t==e?0:"language"==t?-1:"language"==e?1:"component"==t?-1:"component"==e?1:0},e.prototype.hasProperty=function(e){return"component"==e||t.prototype.hasProperty.call(this,e)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},e.prototype.setVisibility=function(e,i){t.prototype.setVisibility.call(this,e,i),this._contents&&(this._contents.visible=e)},Object.defineProperty(e.prototype,"bullet",{get:function(){return this._bullet},set:function(t){this._bullet&&this._bullet!=t&&(F.remove(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=t,t&&this.addSprite(t)},enumerable:!0,configurable:!0}),e}(l.a);!function(t){t[t.Start=0]="Start",t[t.Middle=.5]="Middle",t[t.End=1]="End"}(k||(k={}));var G=function(t){function e(){var i=t.call(this)||this;if(i._gridCount=10,i._series=new u.b,i.autoDispose=!0,i._axisItemCount=0,i.constructor===e)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");i.hideTooltipWhileZooming=!0,i.minWidth=1e-4,i.minHeight=1e-4,i.className="Axis",i.shouldClone=!1,i.setPropertyValue("cursorTooltipEnabled",!0),i.toggleZoomOutButton=!0;var n=new y.a;i.title=new p.a,i.title.shouldClone=!1,i._disposers.push(i.title),i.setPropertyValue("startLocation",0),i.setPropertyValue("endLocation",1),i._dataItemsIterator=new N.ListIterator(i.dataItems,(function(){return i.dataItems.create()})),i._dataItemsIterator.createNewItems=!0;var r=new D.a;i._disposers.push(r),r.label.padding(5,10,5,10),r.background.pointerLength=5,r.fitPointerToBounds=!0,r.background.filters.clear(),r.virtualParent=i;var o=r.background;return o.cornerRadius=0,o.fill=n.getFor("alternativeBackground"),o.stroke=o.fill,o.strokeWidth=1,o.fillOpacity=1,r.label.fill=n.getFor("alternativeText"),i.tooltip=r,i.readerHidden=!0,i.events.on("rangechangestarted",(function(){i.series.each((function(t){t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!0)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!0)}),void 0,!1),i.events.on("rangechangeended",(function(){i.series.each((function(t){t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!1)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!1)}),void 0,!1),i.applyTheme(),i}return Object(a.__extends)(e,t),e.prototype.fillRule=function(t,e){b.isNumber(e)||(e=t.index),e/2==Math.round(e/2)?(t.axisFill.__disabled=!0,t.axisFill.opacity=0):(t.axisFill.opacity=1,t.axisFill.__disabled=!1)},e.prototype.createDataItem=function(){return new R},e.prototype.invalidateLayout=function(){t.prototype.invalidateLayout.call(this),N.each(this.series.iterator(),(function(t){t.invalidateLayout()}))},e.prototype.invalidateSeries=function(){N.each(this.series.iterator(),(function(t){t.invalidate()}))},e.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},e.prototype.updateGridCount=function(){if(this.renderer){var t=this.axisLength/this.renderer.minGridDistance;t!=this._gridCount&&(this._gridCount=t,this.clearCache())}},e.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),t.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},e.prototype.initRenderer=function(){},e.prototype.appendDataItem=function(t){var e=this.renderer,i=t.tick;i&&(i.parent=i.above?e.bulletsContainer:e.gridContainer),t.label&&(t.label.parent=e);var n=t.axisFill;n&&(n.parent=n.above?e.bulletsContainer:e.gridContainer);var r=t.grid;r&&(r.parent=r.above?e.bulletsContainer:e.gridContainer),t.bullet&&(t.bullet.parent=e.bulletsContainer)},e.prototype.validate=function(){t.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},e.prototype.validateAxisRanges=function(){var t=this;N.each(this.axisRanges.iterator(),(function(e){t.appendDataItem(e),t.validateDataElement(e),e.grid&&e.grid.validate(),e.tick&&e.tick.validate(),e.axisFill&&e.axisFill.validate(),e.label&&e.label.validate()}))},e.prototype.validateBreaks=function(){this._axisBreaks&&N.each(this._axisBreaks.iterator(),(function(t){t.invalidate()}))},e.prototype.processBreak=function(t){var e=t.newValue;e.parent=this.renderer.breakContainer,e.axis=this},e.prototype.registerSeries=function(t){var e=this;return this.series.moveValue(t),new _.c([new _.b((function(){e.series.removeValue(t)})),this.events.on("lengthchanged",t.invalidate,t,!1),this.events.on("lengthchanged",t.createMask,t,!1),this.events.on("startchanged",t.invalidate,t,!1),this.events.on("endchanged",t.invalidate,t,!1)])},Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},set:function(t){if(t!=this._renderer){this._renderer=t,t.chart=this.chart,t.axis=this,t.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(t.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var e=this.renderer.labels.create();this._disposers.push(e),e.dataItem=this.dataItems.template.clone(),e.text="L",e.parent=this.renderer,e.shouldClone=!1,e.fillOpacity=0,e.opacity=0,e.strokeOpacity=0,e.interactionsEnabled=!1,e.validate(),this.ghostLabel=e,this.events.on("beforedatavalidated",(function(){e.text="L"}),void 0,!1)}},enumerable:!0,configurable:!0}),e.prototype.positionToAngle=function(t){return this.renderer.positionToAngle(t)},e.prototype.pointToPosition=function(t){return this.renderer.pointToPosition(t)},e.prototype.positionToCoordinate=function(t){return this.renderer.positionToCoordinate(t)},e.prototype.getAnyRangePath=function(t,e){return this.renderer.getPositionRangePath(t,e)},e.prototype.anyToPosition=function(t){return 0},e.prototype.anyToPoint=function(t){return{x:0,y:0,angle:0}},e.prototype.getPositionRangePath=function(t,e){return this.renderer?this.renderer.getPositionRangePath(t,e):""},Object.defineProperty(e.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(t){this.setPropertyValue("cursorTooltipEnabled",t)&&(t&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(t){this.setPropertyValue("toggleZoomOutButton",t)},enumerable:!0,configurable:!0}),e.prototype.hideTooltip=function(e){t.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},e.prototype.showTooltipAtPosition=function(t,e){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(e||(t=this.toAxisPosition(t)),!b.isNumber(t)||t<this.start||t>this.end)return i.hide(0),void(this._tooltipPosition=void 0);var n=this.renderer;i.parent||(i.parent=this.tooltipContainer);var r=n.tooltipLocation,o=this.getCellStartPosition(t),a=this.getCellEndPosition(t);if("fixed"==this.tooltipPosition&&(t=x.ceil(o+(a-o)*r,4)),t=x.fitToRange(t,this.start,this.end),this._tooltipPosition!=t){this._tooltipPosition=t;var s=n.tooltipLocation2,l=n.positionToPoint(o,s),u=n.positionToPoint(a,s);this.currentItemStartPoint=l,this.currentItemEndPoint=u,n.fullWidthTooltip&&(i.width=u.x-l.x,i.height=u.y-l.y);var h=n.positionToPoint(t,s),c=v.spritePointToSvg(h,this.renderer.line);i.text=this.getTooltipText(t),i.text&&(i.pointTo(c),i.show())}this.cursorTooltipEnabled&&!this.tooltip.disabled||i.hide(0)}},e.prototype.toAxisPosition=function(t){if(null!=(t=this.renderer.toAxisPosition(t)))return t*=this.end-this.start,this.renderer.inversed?this.end-t:this.start+t},e.prototype.toGlobalPosition=function(t){return this.renderer.inversed?t=this.end-t:t-=this.start,t/(this.end-this.start)},e.prototype.getTooltipText=function(t){},e.prototype.updateTooltip=function(t,e){var i=this._tooltip;i&&(i.pointerOrientation=t,i.setBounds(v.spriteRectToSvg(e,this.renderer.line)))},e.prototype.roundPosition=function(t,e,i){return t},e.prototype.getCellStartPosition=function(t){return t},e.prototype.getCellEndPosition=function(t){return t},Object.defineProperty(e.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var t=this.createDataItem();t.isRange=!0,t.axisFill=this.renderer.axisFills.template.clone(),t.grid=this.renderer.grid.template.clone(),t.tick=this.renderer.ticks.template.clone(),t.label=this.renderer.labels.template.clone(),t.isTemplate=!0,t.component=this,t.axisFill.disabled=!1,t.tick.disabled=!1,t.grid.disabled=!1,t.label.disabled=!1,this._axisRanges=new u.e(t),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new u.c(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),e.prototype.processAxisRange=function(t){var e=t.newValue;e.component=this,e.isRange=!0},Object.defineProperty(e.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new E.d(this.createAxisBreak(),(function(t,e){return A.order(t.adjustedStartValue,e.adjustedStartValue)})),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new u.c(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),e.prototype.createAxisBreak=function(){return new I},Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new u.b),this._series},enumerable:!0,configurable:!0}),e.prototype.processSeriesDataItems=function(){},e.prototype.processSeriesDataItem=function(t,e){},e.prototype.postProcessSeriesDataItems=function(){},e.prototype.postProcessSeriesDataItem=function(t){},e.prototype.updateAxisBySeries=function(){},e.prototype.hideUnusedDataItems=function(){var t=this,e=this._dataItemsIterator;e.createNewItems=!1,N.each(e.iterator(),(function(e){t.validateDataElement(e),e.__disabled=!0})),e.clear(),e.createNewItems=!0},e.prototype.getSeriesDataItem=function(t,e,i){},e.prototype.getAngle=function(t,e,i,n,r){},e.prototype.getX=function(t,e,i,n,r){},e.prototype.getPositionX=function(t,e,i,n,r){},e.prototype.getY=function(t,e,i,n,r){},e.prototype.getPositionY=function(t,e,i,n,r){},Object.defineProperty(e.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),e.prototype.dataChangeUpdate=function(){},e.prototype.seriesDataChangeUpdate=function(t){},e.prototype.adjustDifference=function(t,e){var i=e-t;if(b.isNumber(i))return this._axisBreaks&&N.eachContinue(this._axisBreaks.iterator(),(function(n){var r=n.adjustedStartValue,o=n.adjustedEndValue;if(b.isNumber(r)&&b.isNumber(o)){if(r>e)return!1;if(o>=t&&b.isNumber(r)&&b.isNumber(o)){var a=n.breakSize,s=x.intersection({start:r,end:o},{start:t,end:e});s&&(i-=(s.end-s.start)*(1-a))}return!0}})),i},e.prototype.isInBreak=function(t){if(this._axisBreaks)return N.find(this._axisBreaks.iterator(),(function(e){return t>=e.adjustedStartValue&&t<=e.adjustedEndValue}))},e.prototype.fixAxisBreaks=function(){var t=this;if(this._axisBreaks){var e=this._axisBreaks;if(e.length>0){F.each(N.toArray(e.iterator()),(function(e){var i=x.min(e.startValue,e.endValue),n=x.max(e.startValue,e.endValue);e.adjustedStartValue=i,e.adjustedEndValue=n,t._axisBreaks.update(e)}));var i=e.first,n=Math.min(i.startValue,i.endValue);N.each(e.iterator(),(function(t){var e=t.adjustedStartValue,i=t.adjustedEndValue;e<n&&(e=n,i<n&&(i=n)),t.adjustedStartValue=e,t.adjustedEndValue=i}))}}},Object.defineProperty(e.prototype,"startIndex",{get:function(){return 0},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.getPositionLabel=function(t){return Math.round(100*t)+"%x"},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),e.prototype.createSeriesRange=function(t){var e=this.axisRanges.create();return e.component=this,e.axisFill=this.renderer.axisFills.template.clone(),e.axisFill.disabled=!1,e.axisFill.fillOpacity=0,e.grid=this.renderer.grid.template.clone(),e.grid.disabled=!0,e.tick=this.renderer.ticks.template.clone(),e.tick.disabled=!0,e.label=this.renderer.labels.template.clone(),e.label.disabled=!0,t.axisRanges.push(e),e},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},e.prototype.resetIterators=function(){this._dataItemsIterator.reset()},e.prototype.processConfig=function(e){if(e&&b.hasValue(e.axisRanges)&&b.isArray(e.axisRanges))for(var i=0,n=e.axisRanges.length;i<n;i++){var r=e.axisRanges[i];b.hasValue(r.series)&&b.isString(r.series)&&this.map.hasKey(r.series)&&(e.axisRanges[i]=this.createSeriesRange(this.map.getKey(r.series)),delete r.series,e.axisRanges[i].config=r)}t.prototype.processConfig.call(this,e)},Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),i},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this._title!=t&&this._title.dispose(),t&&(this._title=t,t.parent=this,t.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(t){this.setPropertyValue("hideTooltipWhileZooming",t)},enumerable:!0,configurable:!0}),e}(s.a);f.c.registeredClasses.Axis=G,f.c.registeredClasses.AxisDataItem=R,C.c.push({relevant:C.b.maybeXS,state:function(t,e){if(t instanceof G&&t.tooltip){var i=t.states.create(e);return i.properties.cursorTooltipEnabled=!1,i}return null}});var B=function(t){function e(){var e=t.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var i=new y.a;return e.stroke=i.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=Object(w.c)(),e.applyTheme(),e.interactionsEnabled=!1,e}return Object(a.__extends)(e,t),e}(P.a);f.c.registeredClasses.AxisLine=B;var z=function(t){function e(e){var i=t.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var n=new y.a;return i.fill=n.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return Object(a.__extends)(e,t),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e.prototype.draw=function(){t.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&b.isNumber(this.startPosition)&&b.isNumber(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(e.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(t){this.setPropertyValue("startPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(t){this.setPropertyValue("endPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setPath=function(t){return!!this.setPropertyValue("path",t)&&(this.element.attr({d:t}),!0)},Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e}(P.a);f.c.registeredClasses.AxisFill=z;var W=function(t){function e(){var e=t.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var i=new y.a;return e.stroke=i.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=Object(w.c)(),e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(P.a);f.c.registeredClasses.Grid=W,C.c.push({relevant:C.b.maybeXS,state:function(t,e){if(t instanceof W){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var H=function(t){function e(){var e=t.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(p.a);f.c.registeredClasses.AxisLabel=H;var Z=function(t){function e(){var e=t.call(this)||this;e.className="Tick";var i=new y.a;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=i.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(t){this.setPropertyValue("length",t,!0)},enumerable:!0,configurable:!0}),e}(P.a);f.c.registeredClasses.Tick=Z;var X=function(t){function e(){var e=t.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(Z);f.c.registeredClasses.AxisTick=X;var Y=function(t){function e(){var e=t.call(this)||this;e._chart=new _.d,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(c.a);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=Object(m.c)(100),i.height=Object(m.c)(100),e.gridContainer=i,i.events.on("maxsizechanged",(function(){e.inited&&e.invalidateAxisItems()}),e,!1);var n=e.createChild(c.a);n.shouldClone=!1,n.isMeasured=!1,n.layout="none",n.width=Object(m.c)(100),n.height=Object(m.c)(100),e.breakContainer=n;var r=e.createChild(c.a);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=Object(m.c)(100),r.height=Object(m.c)(100),e.bulletsContainer=r,e.line=e.createChild(B),e.line.shouldClone=!1,e.line.strokeOpacity=0;var o=e.createChild(W);o.shouldClone=!1,e.baseGrid=o;var a=e._disposers;return a.push(o),a.push(e.line),a.push(i),a.push(n),a.push(r),a.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis},set:function(t){this.setAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setAxis=function(t){this._axis=t,this.baseGrid.parent=t,this.line.parent=t,this.gridContainer.bind("opacity",t)},e.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},e.prototype.updateTooltip=function(){},Object.defineProperty(e.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.positionItem=function(t,e){t&&t.moveTo(e)},e.prototype.positionToPoint=function(t,e){return{x:0,y:0}},e.prototype.positionToAngle=function(t){return 0},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength;return e.renderer.inversed?(e.end-t)*i:(t-e.start)*i},e.prototype.updateGridContainer=function(){},e.prototype.getHeight=function(){var t=this.gridContainer;return t.parent?t.parent.pixelHeight:this.gridContainer.pixelHeight||0},e.prototype.getWidth=function(){var t=this.gridContainer;return t.parent?t.parent.pixelWidth:this.gridContainer.pixelWidth||0},e.prototype.coordinateToPosition=function(t,e){var i=this.axis,n=i.axisFullLength;return x.round(i.renderer.inversed?i.end-t/n:t/n+i.start,5)},e.prototype.pointToPosition=function(t){return 0},e.prototype.getPositionRangePath=function(t,e){return""},e.prototype.invalidateAxisItems=function(){var t=this.axis;t&&t.invalidateDataItems()},e.prototype.updateGridElement=function(t,e,i){},e.prototype.updateTickElement=function(t,e,i){},e.prototype.updateBullet=function(t,e,i){},e.prototype.updateLabelElement=function(t,e,i,n){},e.prototype.updateFillElement=function(t,e,i){t.startPosition=e,t.endPosition=i},e.prototype.updateAxisLine=function(){},e.prototype.updateBaseGridElement=function(){},e.prototype.updateBreakElement=function(t){this.positionItem(t.startLine,t.startPoint),this.toggleVisibility(t.startLine,t.startPosition,0,1),this.positionItem(t.endLine,t.endPoint),this.toggleVisibility(t.endLine,t.endPosition,0,1)},Object.defineProperty(e.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(t){this.setPropertyValue("minGridDistance",t)&&this.axis&&this.axis.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),e.prototype.toggleVisibility=function(t,e,i,n){var r=this.axis,o=t.dataItem;o&&o instanceof R&&(b.isNumber(o.minPosition)&&(i=o.minPosition),b.isNumber(o.maxPosition)&&(n=o.maxPosition)),t.disabled||(t.__disabled=e<r.start+(r.end-r.start)*(i-1e-4)||e>r.start+(r.end-r.start)*(n+1e-4))},e.prototype.createBreakSprites=function(t){},Object.defineProperty(e.prototype,"axisFills",{get:function(){if(!this._axisFills){var t=this.createFill(this.axis);this._axisFills=new u.e(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new u.c(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),e.prototype.createFill=function(t){return new z(t)},Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.createGrid();this._grid=new u.e(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new u.c(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),e.prototype.createGrid=function(){return new W},Object.defineProperty(e.prototype,"ticks",{get:function(){if(!this._ticks){var t=this.createTick();t.applyOnClones=!0,t.isMeasured=!1,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new u.e(t),this._disposers.push(new u.c(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),e.prototype.createTick=function(){return new X},Object.defineProperty(e.prototype,"labels",{get:function(){if(!this._labels){var t=this.createLabel();this._labels=new u.e(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new u.c(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),e.prototype.createLabel=function(){return new H},Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t)&&this.axis&&this.axis.invalidate(),t?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(t){this.setPropertyValue("opposite",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(t){this.setPropertyValue("fullWidthTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(t){this.setPropertyValue("tooltipLocation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(t){this.setPropertyValue("tooltipLocation2",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(t){this.setPropertyValue("cellStartLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(t){this.setPropertyValue("cellEndLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(t){this.setPropertyValue("inversed",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(t){this.setPropertyValue("minLabelPosition",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(t){this.setPropertyValue("maxLabelPosition",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},e.prototype.toAxisPosition=function(t){return t},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(c.a);f.c.registeredClasses.AxisRenderer=Y;var U=i("f+/c"),K=i("d7F2"),q=function(t){function e(){var e=t.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(c.a);f.c.registeredClasses.AxisBullet=q;var J=function(t){function e(){var e=t.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=Object(m.c)(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.setAxis=function(e){t.prototype.setAxis.call(this,e),e.layout="horizontal"},e.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.y=t.pixelY,e.height=t.axisLength}},e.prototype.toAxisPosition=function(t){var e=this.axis;if(e){var i=1-t,n=e.relativePositionSprite,r=e.pixelY;if(n?r=v.spritePointToSprite({x:0,y:this.pixelY},this.parent,n).y:n=e.parent,n)return 1-(i-r/n.innerHeight)/(e.axisLength/n.innerHeight)}return t},e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i.valign="middle",e.height instanceof m.a||(e.height=Object(m.c)(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},e.prototype.updateTooltip=function(){if(this.axis){var t=0,e=2e3;this.opposite?this.inside&&(t=-2e3,e=2e3):this.inside||(t=-2e3,e=2e3),this.axis.updateTooltip("horizontal",{x:t,y:0,width:e,height:this.axisLength})}},Object.defineProperty(e.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredHeight-t.pixelPaddingTop-t.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){return{x:0,y:this.positionToCoordinate(t)}},e.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.y,t.x)},e.prototype.coordinateToPosition=function(t,e){var i=this.axis,n=i.axisFullLength;return x.round(i.renderer.inversed?1-i.start-t/n:t/n+(1-i.end),5)},e.prototype.getPositionRangePath=function(t,e){var i=x.fitToRange(this.positionToCoordinate(t),0,this.axisLength),n=x.fitToRange(this.positionToCoordinate(e),0,this.axisLength),r=Math.abs(n-i),o=this.getWidth(),a=Math.min(i,n);return K.rectToPath({x:0,y:a,width:o,height:r},!0)},e.prototype.updateGridElement=function(t,e,i){var n=this.positionToPoint(e+=(i-e)*t.location);t.path=K.moveTo({x:0,y:0})+K.lineTo({x:this.getWidth(),y:0}),this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){var n=this.positionToPoint(e+=(i-e)*t.location),r=t.length;try{v.used(this.axis.title.measuredWidth)}catch(o){}n.x=v.spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,r*=this.opposite?t.inside?-1:1:t.inside?1:-1,t.path=K.moveTo({x:0,y:0})+K.lineTo({x:r,y:0}),this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateAxisLine=function(){this.line.path=K.moveTo({x:0,y:0})+K.lineTo({x:0,y:this.axisLength})},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getWidth(),n=e.basePoint.y,r=this.baseGrid;if(n<-.2||n>this.axisLength+.2)r.hide(0);else{var o=v.spritePointToSprite({x:0,y:0},this.gridContainer,r.parent).x;r.path=K.moveTo({x:0,y:0})+K.lineTo({x:i,y:0}),r.moveTo({x:o,y:n}),r.show(0)}},e.prototype.updateLabelElement=function(t,e,i,n){b.hasValue(n)||(n=t.location),e+=(i-e)*n,t.isMeasured=!t.inside;var r,o=this.positionToPoint(e),a=0,s=this.gridContainer.maxWidth;this.opposite?(t.inside?(r="right","left"==t.align&&(a=-s,r="left"),"center"==t.align&&(a=-s/2,r="middle")):r="left",o.x=0+a):(t.inside?(r="left","right"==t.align&&(a=s,r="right"),"center"==t.align&&(a=s/2,r="middle")):r="right",o.x=this.measuredWidth+a),0==t.rotation&&(t.horizontalCenter=r),this.positionItem(t,o),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.updateBreakElement=function(e){t.prototype.updateBreakElement.call(this,e);var i=e.startLine,n=e.endLine,r=e.fillShape,o=e.startPoint,a=e.endPoint,s=e.pixelMarginLeft,l=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;o.y=x.fitToRange(o.y,-1,this.axisLength+1),a.y=x.fitToRange(a.y,-1,this.axisLength+1),e.fillShape.__disabled=o.y==a.y&&(o.y<0||o.y>this.axisLength);var u=Math.abs(l-s);i.x=s,i.height=0,i.width=u,n.x=s,n.height=0,n.width=u,r.width=u,r.height=Math.abs(a.y-o.y),r.x=s,r.y=a.y},e.prototype.createBreakSprites=function(t){t.startLine=new V.a,t.endLine=new V.a;var e=new U.a;e.setWavedSides(!0,!1,!0,!1),t.fillShape=e},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength;return x.round(e.renderer.inversed?(t-e.start)*i:(e.end-t)*i,1)},e.prototype.updateBullet=function(t,e,i){var n=.5;t instanceof q&&(n=t.location);var r=this.positionToPoint(e+=(i-e)*n);r.x=v.spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e}(Y);f.c.registeredClasses.AxisRendererY=J,C.c.push({relevant:C.b.widthS,state:function(t,e){if(t instanceof J){var i=t.states.create(e);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),C.c.push({relevant:C.b.widthXS,state:function(t,e){if(t instanceof J){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var Q=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),e}(I);f.c.registeredClasses.ValueAxisBreak=Q;var $=i("oN2F"),tt=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(t){this.setValue("endValue",t)},enumerable:!0,configurable:!0}),e}(R),et=function(t){function e(){var e=t.call(this)||this;return e._stepDecimalPlaces=0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.fillRule=function(t){var e=t.value,i=t.component;t.axisFill.disabled||(t.axisFill.__disabled=x.round(e/i.step/2,5)==Math.round(e/i.step/2))},e.prototype.createDataItem=function(){return new tt},e.prototype.createAxisBreak=function(){return new Q},e.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},e.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var t=this.series.getIndex(0),e=t.startIndex;if(t.dataItems.length>0){e>0&&e--;var i=t.endIndex;i<t.dataItems.length&&i++;for(var n=function(t){var e={},i={};r.series.each((function(n){if(!n.excludeFromTotal){var r=n.dataItems.getIndex(t);r&&$.each(r.values,(function(t){var n=r.values[t].workingValue;b.isNumber(n)&&(b.isNumber(e[t])?e[t]+=Math.abs(n):e[t]=Math.abs(n),b.isNumber(i[t])?i[t]+=n:i[t]=n)}))}})),r.series.each((function(n){if(!n.excludeFromTotal){var r=n.dataItems.getIndex(t);r&&$.each(r.values,(function(t){var n=r.values[t].workingValue;b.isNumber(n)&&(r.setCalculatedValue(t,e[t],"total"),r.setCalculatedValue(t,100*n/e[t],"totalPercent"),r.setCalculatedValue(t,i[t],"sum"))}))}}))},r=this,o=e;o<i;++o)n(o)}}},e.prototype.validate=function(){this.axisLength<=0||(t.prototype.validate.call(this),this.getMinMax(),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},e.prototype.calculateZoom=function(){if(b.isNumber(this.min)&&b.isNumber(this.max)){var t=this.positionToValue(this.start),e=this.positionToValue(this.end),i=this.adjustDifference(t,e),n=this.adjustMinMax(t,e,i,this._gridCount,!0),r=v.decimalPlaces(n.step);this._stepDecimalPlaces=r,t=x.round(t,r),e=x.round(e,r);var o=(n=this.adjustMinMax(t,e,i,this._gridCount,!0)).step;if(this.syncWithAxis){var a=this.getCache(t+"-"+e);b.isNumber(a)&&(o=a)}else t=n.min,e=n.max;this._minZoomed==t&&this._maxZoomed==e&&this._step==o||(this._minZoomed=t,this._maxZoomed=e,this._step=o,this.dispatchImmediately("selectionextremeschanged"))}},e.prototype.validateAxisElements=function(){var t=this;if(b.isNumber(this.max)&&b.isNumber(this.min)){var e=this.minZoomed-2*this._step;this.logarithmic?Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(e=Math.floor(this.minZoomed/this._step)*this._step)&&(e=this.minZoomed):e=Math.floor(e/this._step)*this._step;var i=this._maxZoomed+this._step;this.resetIterators();for(var n=this._dataItemsIterator,r=0;e<=i;){if(!this.isInBreak(e)){var o=n.find((function(t){return t.value===e}));o.__disabled&&(o.__disabled=!1),this.appendDataItem(o),o.axisBreak=void 0,o.value!=e&&(o.value=e,o.text=this.formatLabel(e),o.label&&o.label.invalid&&o.label.validate(),o.value>=this.min&&o.value<=this.max&&o.label&&("Y"==this.axisLetter&&o.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&o.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=o.label.currentText,this.ghostLabel.validate())),this.validateDataElement(o)}r++,this.logarithmic&&Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E+r):e+=this._step;var a=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(a<1){var s=Math.round(Math.abs(Math.log(Math.abs(a))*Math.LOG10E))+2;e=x.round(e,s)}}var l=this._axisBreaks;if(l){var u=this.renderer;N.each(l.iterator(),(function(e){if(e.breakSize>0&&x.getDistance(e.startPoint,e.endPoint)>u.minGridDistance)for(var i=e.adjustedMin;i<=e.adjustedMax;){if(i>=e.adjustedStartValue&&i<=e.adjustedEndValue){var r=n.find((function(t){return t.value===i}));r.__disabled&&(r.__disabled=!1),t.appendDataItem(r),r.axisBreak=e,r.value!=i&&(r.value=i,r.text=t.formatLabel(i),r.label&&r.label.invalid&&r.label.validate()),t.validateDataElement(r)}i+=e.adjustedStep}}))}}},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,n=e.value,r=e.endValue,o=this.valueToPosition(n);e.position=o;var a=o,s=this.valueToPosition(n+this._step);b.isNumber(r)&&(s=a=this.valueToPosition(r)),e.point=i.positionToPoint(o);var l=e.tick;l&&!l.disabled&&i.updateTickElement(l,o,a);var u=e.grid;u&&!u.disabled&&i.updateGridElement(u,o,a);var h=e.label;h&&!h.disabled&&i.updateLabelElement(h,o,a);var c=e.axisFill;c&&!c.disabled&&(i.updateFillElement(c,o,s),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,o,a);var p=e.mask;p&&i.updateFillElement(p,o,s)},e.prototype.formatLabel=function(t){return this.numberFormatter.format(t)},Object.defineProperty(e.prototype,"basePoint",{get:function(){var t=this.valueToPosition(this.baseValue);return this.renderer.positionToPoint(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseValue",{get:function(){var t=this._baseValue;return this.logarithmic&&(t=this.min),this._adapterO?this._adapterO.apply("baseValue",t):t},set:function(t){this._baseValue=t,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),e.prototype.anyToPosition=function(t){return this.valueToPosition(t)},e.prototype.valueToPoint=function(t){var e=this.valueToPosition(t),i=this.renderer.positionToPoint(e),n=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:n}},e.prototype.anyToPoint=function(t){return this.valueToPoint(t)},e.prototype.valueToPosition=function(t){if(b.isNumber(t)){var e=this.min,i=this.max;if(b.isNumber(e)&&b.isNumber(i)){var n=this._difference,r=this._axisBreaks;return r&&r.length>0&&N.eachContinue(r.iterator(),(function(n){var r=n.adjustedStartValue,o=n.adjustedEndValue;if(b.isNumber(r)&&b.isNumber(o)){if(t<r)return!1;if(x.intersect({start:r,end:o},{start:e,end:i})){r=Math.max(r,e),o=Math.min(o,i);var a=n.breakSize;t>o?e+=(o-r)*(1-a):t<r||(t=r+(t-r)*a)}}return!0})),this.logarithmic?(Math.log(t)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E):(t-e)/n}}return 0},e.prototype.invalidateLabels=function(){t.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each((function(t){t.value=void 0})),this.invalidate())},e.prototype.positionToValue=function(t){t=x.round(t,10);var e=this.min,i=this.max;if(b.isNumber(e)&&b.isNumber(i)){var n=i-e,r=null,o=this._axisBreaks;return o&&o.length>0&&N.eachContinue(o.iterator(),(function(o){var a=o.startPosition,s=o.endPosition,l=o.adjustedStartValue,u=o.adjustedEndValue;if(b.isNumber(l)&&b.isNumber(u)){if(l>i)return!1;if(x.intersect({start:l,end:u},{start:e,end:i})){l=x.max(l,e),u=x.min(u,i);var h=o.breakSize;if(n-=(u-l)*(1-h),t>s)e+=(u-l)*(1-h);else if(!(t<a))return r=l+(t-a)/(s-a)*(u-l),!1}return!0}})),b.isNumber(r)||(r=this.logarithmic?Math.pow(Math.E,(t*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):t*n+e),r}},e.prototype.xToValue=function(t){return this.positionToValue(this.pointToPosition({x:t,y:0}))},e.prototype.yToValue=function(t){return this.positionToValue(this.pointToPosition({x:0,y:t}))},e.prototype.pointToPosition=function(t){return this.renderer instanceof J?1-this.renderer.pointToPosition(t):this.renderer.pointToPosition(t)},e.prototype.animateMinMax=function(t,e){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing)},e.prototype.getMinMax=function(){var t=this;this.updateGridCount();var e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(b.isNumber(this._minDefined)&&b.isNumber(this._maxDefined)||(this.series.each((function(n){if(!n.ignoreMinMax){var r=n.min(t);b.isNumber(r)&&r<e&&(e=r);var o=n.max(t);b.isNumber(o)&&o>i&&(i=o)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(t){if(!t.ignoreMinMax){var n=x.min(t.value,t.endValue),r=x.max(t.value,t.endValue);(n<e||!b.isNumber(e))&&(e=n),(r>i||!b.isNumber(i))&&(i=r)}}))),this.logarithmic&&e<=0)throw Error("Logarithmic value axis can not have vales <= 0.");if(0==e&&0==i&&(i=.9,e=-.9),b.isNumber(this._minDefined)&&(e=this._minDefined),b.isNumber(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),b.isNumber(e)&&b.isNumber(i)){this._minReal=e,this._maxReal=i,e==Number.POSITIVE_INFINITY&&(e=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var n=this.adjustDifference(e,i);if(e=this.fixMin(e),(i=this.fixMax(i))-e<=1/Math.pow(10,15)){if(i-e!=0)this._deltaMinMax=(i-e)/2;else{var r=Math.log(Math.abs(i))*Math.LOG10E,o=Math.pow(10,Math.floor(r));this._deltaMinMax=o/=10}e-=this._deltaMinMax,i+=this._deltaMinMax}i+=(i-(e-=(i-e)*this.extraMin))*this.extraMax;var a=this.strictMinMax;b.isNumber(this._maxDefined)&&(a=!0);var s=this.adjustMinMax(e,i,n,this._gridCount,a);if(n=(i=s.max)-(e=s.min),s=this.adjustMinMax(e,i,i-e,this._gridCount,!0),e=s.min,i=s.max,this.strictMinMax&&(e=b.isNumber(this._minDefined)?this._minDefined:this._minReal,(i=b.isNumber(this._maxDefined)?this._maxDefined:this._maxReal)-e<=1e-8&&(e-=this._deltaMinMax,i+=this._deltaMinMax),i+=(i-(e-=(i-e)*this.extraMin))*this.extraMax),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=s.step,(this._minAdjusted!=e||this._maxAdjusted!=i)&&b.isNumber(e)&&b.isNumber(i)){var l=this._minMaxAnimation;if(this._extremesChanged&&b.isNumber(this._minAdjusted)&&b.isNumber(this._maxAdjusted)&&this.inited){if(l&&!l.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._finalMin=e,this._finalMax=i,(l=this.animateMinMax(e,i))&&!l.isFinished()?(l.events.on("animationprogress",this.validateDataItems,this),l.events.on("animationended",(function(){t.series.each((function(t){t.validate()})),t.validateDataItems(),t.handleSelectionExtremesChange()})),this._minMaxAnimation=l):this.series.each((function(t){t.validate()})),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(l&&!l.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._minAdjusted=e,this._maxAdjusted=i,this._finalMin=e,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged")}}this._extremesChanged=!1,this._difference=this.adjustDifference(e,i)}},e.prototype.fixMin=function(t){return t},e.prototype.fixMax=function(t){return t},e.prototype.adjustMinMax=function(t,e,i,n,r){n<=1&&(n=1),n=Math.round(n);var o=t,a=e;0===i&&(i=Math.abs(e));var s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),u=l/=10;r&&(u=0),this.logarithmic?(t<=0&&(t=this.baseValue),t==1/0&&(t=1),e==-1/0&&(e=10),t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),e=Math.pow(10,Math.ceil(Math.log(Math.abs(e))*Math.LOG10E))):(r?(t=Math.floor(t/l)*l,e=Math.ceil(e/l)*l):(t=Math.ceil(t/l)*l-u,e=Math.floor(e/l)*l+u),t<0&&o>=0&&(t=0),e>0&&a<=0&&(e=0)),s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),l/=10;var h=Math.ceil(i/n/l)*l,c=Math.pow(10,Math.floor(Math.log(Math.abs(h))*Math.LOG10E)),p=Math.ceil(h/c);p>5?p=10:p<=5&&p>2&&(p=5),h=Math.ceil(h/(c*p))*c*p,this.maxPrecision<Number.MAX_VALUE&&h!=x.ceil(h,this.maxPrecision)&&(h=x.ceil(h,this.maxPrecision));var d=0;if(c<1&&(d=Math.round(Math.abs(Math.log(Math.abs(c))*Math.LOG10E))+1,h=x.round(h,d)),!this.logarithmic){var f=Math.floor(t/h);t=x.round(h*f,d);var g=void 0;(g=r?Math.floor(e/h):Math.ceil(e/h))==f&&g++,(e=x.round(h*g,d))<a&&(e+=h),t>o&&(t-=h)}return{min:t,max:e,step:h}},Object.defineProperty(e.prototype,"min",{get:function(){var t=this._minAdjusted;return b.isNumber(t)||(t=this._minDefined),t},set:function(t){this._minDefined!=t&&(this._minDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(t){this.setPropertyValue("extraMin",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(t){this.setPropertyValue("extraMax",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){var t=this._maxAdjusted;return b.isNumber(t)||(t=this._maxDefined),t},set:function(t){this._maxDefined!=t&&(this._maxDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.registerSeries=function(e){return new _.c([t.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},e.prototype.handleSelectionExtremesChange=function(){var t,e,i=this,n=!0;if(N.each(this.series.iterator(),(function(r){if(!r.ignoreMinMax&&!r.isHidden){r.visible&&!r.isHiding&&(n=!1);var o=r.selectionMin(i),a=r.selectionMax(i);b.isNumber(o)&&(!b.isNumber(t)||o<t)&&(t=o),b.isNumber(a)&&(!b.isNumber(e)||a>e)&&(e=a)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(t){if(!t.ignoreMinMax){var i=x.min(t.value,t.endValue),n=x.max(t.value,t.endValue);i<e&&(e=i),n>e&&(e=n)}})),b.isNumber(this._minDefined)?t=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(t=this._minReal),b.isNumber(this._maxDefined)?e=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(e=this._maxReal),t==e){var r=this.adjustMinMax(t-=this._deltaMinMax,e+=this._deltaMinMax,0,this._gridCount,this.strictMinMax);t=r.min,e=r.max}var o=this.adjustDifference(t,e),a=this.adjustMinMax(t,e,o,this._gridCount);t=a.min,e=a.max,e+=(e-(t-=(e-t)*this.extraMin))*this.extraMax,t=x.fitToRange(t,this.min,this.max),e=x.fitToRange(e,this.min,this.max),o=this.adjustDifference(t,e),a=this.adjustMinMax(t,e,o,this._gridCount,!0),t=a.min,e=a.max,this.strictMinMax&&(t=x.max(t,this._minDefined),e=x.min(e,this._maxDefined));var s=a.step;this.syncWithAxis&&(a=this.syncAxes(t,e,s),t=a.min,e=a.max,this.invalidate()),s=a.step,this._difference=this.adjustDifference(this.min,this.max);var l=this.valueToPosition(t),u=this.valueToPosition(e);n&&!this.syncWithAxis&&(l=0,u=1);var h=0;this.syncWithAxis?(h=5,this.setCache(t+"-"+e,s)):(this._step=s,this._minZoomed=t,this._maxZoomed=e),this.keepSelection||this.zoom({start:l,end:u},!1,!1,h)},Object.defineProperty(e.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(t){this.setPropertyValue("strictMinMax",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(t){this.setPropertyValue("logarithmic",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(t){this.setPropertyValue("keepSelection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(t){this.setPropertyValue("includeRangesInMinMax",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(t){this.setPropertyValue("maxPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(t){this.setPropertyValue("extraTooltipPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.handleExtremesChange=function(){var t=this;this._extremesChanged=!0,this.getMinMax(),this.ghostLabel&&this.dataItems.each((function(e){e.label&&e.label.pixelWidth>0&&(t.ghostLabel.text=e.label.currentText)}))},e.prototype.getX=function(t,e,i,n,r){return this.renderer.positionToPoint(this.getPositionX(t,e,i,n,r)).x},e.prototype.getPositionX=function(t,e,i,n,r){var o=t.getWorkingValue(e);b.hasValue(n)||(n="valueX");var a=t.getValue(n,"stack");b.isNumber(o)||(o=this.baseValue,this.logarithmic&&a>0&&(o=0));var s=this.valueToPosition(o+a);return r&&(s=x.fitToRange(s,r.start,r.end)),s},e.prototype.getY=function(t,e,i,n,r){return this.renderer.positionToPoint(this.getPositionY(t,e,i,n,r)).y},e.prototype.getPositionY=function(t,e,i,n,r){var o=t.getWorkingValue(e);b.hasValue(n)||(n="valueY");var a=t.getValue(n,"stack");b.isNumber(o)||(o=this.baseValue,this.logarithmic&&a>0&&(o=0));var s=this.valueToPosition(o+a);return r&&(s=x.fitToRange(s,r.start,r.end)),s},e.prototype.getAngle=function(t,e,i,n,r){var o=t.getWorkingValue(e),a=t.getValue(n,"stack");b.isNumber(o)||(o=this.baseValue);var s=this.valueToPosition(o+a);return r&&(s=x.fitToRange(s,r.start,r.end)),this.positionToAngle(s)},e.prototype.getAnyRangePath=function(t,e,i){var n=this.valueToPosition(t),r=this.valueToPosition(e);return this.getPositionRangePath(n,r)},e.prototype.getTooltipText=function(t){var e=x.round(this.positionToValue(t),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(e);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},e.prototype.zoomToValues=function(t,e,i,n){this.zoom({start:(t-this.min)/(this.max-this.min),end:(e-this.min)/(this.max-this.min)},i,n)},Object.defineProperty(e.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:x.max(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:x.min(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),e.prototype.fixAxisBreaks=function(){var e=this;t.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(t){var i=t.adjustedStartValue,n=t.adjustedEndValue,r=n-i,o=Math.ceil(r*t.breakSize)*e._gridCount/(e.max-e.min),a=e.adjustMinMax(i,n,r,o,!0);t.adjustedStep=a.step,t.adjustedMin=a.min,t.adjustedMax=a.max})),this._difference=this.adjustDifference(this.min,this.max)},e.prototype.getPositionLabel=function(t){var e=this.positionToValue(t);return this.numberFormatter.format(e)},e.prototype.showTooltipAt=function(t){this.showTooltipAtPosition(this.valueToPosition(t))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(e.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(t){var e=this;this.setPropertyValue("syncWithAxis",t,!0)&&t&&(this._disposers.push(t.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",(function(){e.clearCache(),e._disposers.push(f.c.events.once("exitframe",(function(){e.handleSelectionExtremesChange()})))}),this,!1))},enumerable:!0,configurable:!0}),e.prototype.syncAxes=function(t,e,i){var n=this.syncWithAxis;if(n){b.isNumber(t)||(t=this.min),b.isNumber(e)||(e=this.max),b.isNumber(i)||(i=this._step);var r=Math.round((n.maxZoomed-n.minZoomed)/n.step),o=Math.round((e-t)/i);if(b.isNumber(r)&&b.isNumber(o))for(var a=!1,s=0,l=.01*(e-t),u=t,h=e,c=i;1!=a;)if(a=this.checkSync(u,h,c,r),++s>1e3&&(a=!0),a)t=u,e=h,i=c;else{s/3==Math.round(s/3)?u=t-l*s:h=e+l*s;var p=this.adjustMinMax(u,h,h-u,this._gridCount,!0);u=p.min,h=p.max,c=p.step}}return{min:t,max:e,step:i}},e.prototype.checkSync=function(t,e,i,n){for(var r=(e-t)/i,o=1;o<n;o++)if(x.round(r/o,1)==n||r*o==n)return!0;return!1},e.prototype.processConfig=function(e){e&&b.hasValue(e.syncWithAxis)&&b.isString(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),t.prototype.processConfig.call(this,e)},e}(G);f.c.registeredClasses.ValueAxis=et,f.c.registeredClasses.ValueAxisDataItem=tt;var it=function(t){function e(){var e=t.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=Object(m.c)(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.setAxis=function(e){t.prototype.setAxis.call(this,e),e.layout="vertical"},e.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.x=t.pixelX,e.width=t.axisLength}},e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof m.a||(e.width=Object(m.c)(100)),v.used(this.line);var i=e.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},e.prototype.updateTooltip=function(){if(this.axis){var t=this.line.pixelY,e=1e3;this.opposite?this.inside||(t=-1e3,e=1e3):this.inside&&(t=-1e3,e=1e3),this.axis.updateTooltip("vertical",{x:this.line.pixelX,y:t,width:this.axisLength,height:e})}},e.prototype.updateLabelElement=function(t,e,i,n){b.hasValue(n)||(n=t.location);var r=this.positionToPoint(e+=(i-e)*n);t.isMeasured=!t.inside;var o,a=0,s=this.gridContainer.maxHeight;this.opposite?(t.inside?(o="top","bottom"==t.valign&&(a=s,o="bottom"),"middle"==t.valign&&(a=s/2,o="middle")):o="bottom",r.y=a):(t.inside?(o="bottom","top"==t.valign&&(a=-s,o="top"),"middle"==t.valign&&(a=-s/2,o="middle")):o="top",r.y+=a),0==t.rotation&&(t.verticalCenter=o),this.positionItem(t,r),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(e.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredWidth-t.pixelPaddingRight-t.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){return{x:this.positionToCoordinate(t),y:0}},e.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.x,t.y)},e.prototype.getPositionRangePath=function(t,e){var i=x.fitToRange(this.positionToCoordinate(t),0,this.axisLength),n=x.fitToRange(this.positionToCoordinate(e),0,this.axisLength),r=Math.abs(n-i),o=this.getHeight(),a=Math.min(i,n);return K.rectToPath({x:a,y:0,width:r,height:o},!0)},e.prototype.updateBreakElement=function(e){t.prototype.updateBreakElement.call(this,e);var i=e.startLine,n=e.endLine,r=e.fillShape,o=e.startPoint,a=e.endPoint,s=e.pixelMarginLeft,l=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;o.x=x.fitToRange(o.x,-1,this.axisLength+1),a.x=x.fitToRange(a.x,-1,this.axisLength+1),e.fillShape.__disabled=o.x==a.x&&(o.x<0||o.x>this.axisLength),i.y=s,i.width=0,i.height=l,n.y=s,n.width=0,n.height=l,r.height=l,r.width=Math.abs(a.x-o.x),r.y=s,r.x=o.x},e.prototype.updateGridElement=function(t,e,i){var n=this.positionToPoint(e+=(i-e)*t.location);t.path=K.moveTo({x:0,y:0})+K.lineTo({x:0,y:this.getHeight()}),this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){var n=this.positionToPoint(e+=(i-e)*t.location),r=t.length;n.y=v.spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,r*=this.opposite?t.inside?1:-1:t.inside?-1:1,t.path=K.moveTo({x:0,y:0})+K.lineTo({x:0,y:r}),this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateAxisLine=function(){this.line.path=K.moveTo({x:0,y:0})+K.lineTo({x:this.axisLength,y:0})},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getHeight(),n=this.baseGrid,r=e.basePoint.x;if(r<-.2||r>this.axisLength+.2)n.hide(0);else{var o=v.spritePointToSprite({x:0,y:0},this.gridContainer,n.parent).y;n.path=K.moveTo({x:0,y:0})+K.lineTo({x:0,y:i}),n.moveTo({x:r,y:o}),n.show(0)}},e.prototype.createBreakSprites=function(t){t.startLine=new V.a,t.endLine=new V.a;var e=new U.a;e.setWavedSides(!1,!0,!1,!0),t.fillShape=e},e.prototype.toAxisPosition=function(t){var e=t,i=this.axis;if(i){var n=i.relativePositionSprite,r=i.pixelX;if(n?r=v.spritePointToSprite({x:this.pixelX,y:0},this.parent,n).x:n=i.parent,n)return(e-r/n.innerWidth)/(i.axisLength/n.innerWidth)}return t},e.prototype.updateBullet=function(t,e,i){var n=.5;t instanceof q&&(n=t.location);var r=this.positionToPoint(e+=(i-e)*n);r.y=v.spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e}(Y);f.c.registeredClasses.AxisRendererX=it,C.c.push({relevant:C.b.heightXS,state:function(t,e){if(t instanceof it){var i=t.states.create(e);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),C.c.push({relevant:C.b.heightXXS,state:function(t,e){if(t instanceof it){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var nt=i("3dAt"),rt=function(t){function e(){var e=t.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(c.a),e.markerContainer.shouldClone=!1,e.markerCount=1;var i=new h.a;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new u.e(i),e._disposers.push(new u.c(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.getMinFromRules=function(t){var e,i=this.series;if(i)return N.eachContinue(i.heatRules.iterator(),(function(i){return i.property!=t||(e=i.min,!1)})),e},e.prototype.getMaxFromRules=function(t){var e,i=this.series;if(i)return N.each(i.heatRules.iterator(),(function(i){return i.property!=t||(e=i.max,!1)})),e},e.prototype.validate=function(){t.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,i=this.minColor,n=this.maxColor;if(b.hasValue(i)||(i=Object(w.e)(this.getMinFromRules("fill"))),b.hasValue(n)||(n=Object(w.e)(this.getMaxFromRules("fill"))),e){var r=e.fill;!b.hasValue(i)&&r instanceof w.a&&(i=r),!b.hasValue(n)&&r instanceof w.a&&(n=r)}b.hasValue(n)||(n=Object(w.e)(this.getMaxFromRules("fill")));var o=b.toNumber(this.getMinFromRules("fillOpacity"));b.isNumber(o)||(o=1);var a=b.toNumber(this.getMaxFromRules("fillOpacity"));b.isNumber(a)||(a=1);var s=b.toNumber(this.getMinFromRules("strokeOpacity"));b.isNumber(s)||(s=1);var l=b.toNumber(this.getMaxFromRules("strokeOpacity"));b.isNumber(l)||(l=1);for(var u=Object(w.e)(this.getMinFromRules("stroke")),h=Object(w.e)(this.getMaxFromRules("stroke")),c=0;c<this.markerCount;c++){var p=this.markers.getIndex(c);if(p||((p=this.markers.create()).parent=this.markerContainer,p.height=Object(m.c)(100),p.width=Object(m.c)(100)),1==this.markerCount){var d=new T.a;if(this.reverseOrder?(d.addColor(n,a),d.addColor(i,o)):(d.addColor(i,o),d.addColor(n,a)),"vertical"==this.orientation&&(d.rotation=-90),p.fill=d,b.hasValue(u)&&b.hasValue(h)){var f=new T.a;this.reverseOrder?(f.addColor(h,l),f.addColor(u,s)):(f.addColor(u,s),f.addColor(h,l)),"vertical"==this.orientation&&(f.rotation=-90),p.stroke=f}}else{var g=c;this.reverseOrder&&(g=this.markerCount-c-1);var y=new w.a(nt.interpolate(i.rgb,n.rgb,g/this.markerCount));if(p.fill=y,p.fillOpacity=o+(a-o)*g/this.markerCount,b.hasValue(u)&&b.hasValue(h)){var v=new w.a(nt.interpolate(u.rgb,h.rgb,g/this.markerCount));p.stroke=v,p.strokeOpacity=s+(l-s)*g/this.markerCount}}}this.markerCount>1&&(this.valueAxis.renderer.minGridDistance="horizontal"==this.orientation?this.measuredWidth/this.markerCount:this.measuredHeight/this.markerCount),this.valueAxis.invalidate(),c=this.markerCount;for(var x=this.markers.length;c<x;c++)this.markers.getIndex(c).parent=void 0},Object.defineProperty(e.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(t){t instanceof w.a||(t=Object(w.e)(t)),this.setColorProperty("minColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(t){b.isObject(t)||(t=Object(w.e)(t)),this.setColorProperty("maxColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(t){this.setPropertyValue("markerCount",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(t){this.setPropertyValue("minValue",t),this.valueAxis.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(t){this.setPropertyValue("maxValue",t),this.valueAxis.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0);var e=this.markerContainer,i=this.valueAxis;"horizontal"==t?(b.hasValue(this.width)||(this.width=200),this.height=void 0,i.width=Object(m.c)(100),i.height=void 0,i.tooltip.pointerOrientation="vertical",this.layout="vertical",e.width=Object(m.c)(100),e.height=void 0,i.renderer instanceof it||(i.renderer=new it)):(b.hasValue(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",e.width=void 0,e.height=Object(m.c)(100),i.height=Object(m.c)(100),i.width=void 0,i.tooltip.pointerOrientation="horizontal",i.renderer instanceof J||(i.renderer=new J),i.renderer.inside=!0,i.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var n=i.renderer;n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.baseGrid.disabled=!0,n.labels.template.padding(2,3,2,3),n.minHeight=void 0,n.minWidth=void 0,this.markerContainer.layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(et),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(t){this._valueAxis=t,t.parent=this,t.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this._series=t;var i="value";try{var n=t.heatRules.getIndex(0).dataField;n&&(i=n)}catch(r){}this.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high),t.dataItem.events.on("calculatedvaluechanged",(function(n){e.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high)}),void 0,!1),t.heatRules.events.on("inserted",this.invalidate,this,!1),t.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),e.prototype.updateMinMax=function(t,e){var i=this.valueAxis;b.isNumber(this.minValue)||(i.min=t,i.invalidate()),b.isNumber(this.maxValue)||(i.max=e,i.invalidate())},e.prototype.processConfig=function(e){if(e&&b.hasValue(e.series)&&b.isString(e.series)&&b.isString(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var i=e.series,n=this.map.events.on("insertKey",(function(t){t.key==i&&(this.series=t.newValue,n.dispose())}),this);this._disposers.push(n),delete e.series}t.prototype.processConfig.call(this,e)},e}(c.a);f.c.registeredClasses.HeatLegend=rt;var ot=i("n+jt"),at=function(t){function e(){var e=t.call(this)||this;e.className="Grip";var i=new y.a;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var n=new P.a;n.element=e.paper.add("path");var r=K.moveTo({x:-6,y:0});return r+=K.lineTo({x:6,y:0}),r+=K.moveTo({x:-8,y:-6}),r+=K.lineTo({x:0,y:-12}),r+=K.lineTo({x:8,y:-6}),r+=K.moveTo({x:-8,y:6}),r+=K.lineTo({x:0,y:12}),r+=K.lineTo({x:8,y:6}),n.path=r,n.strokeWidth=2,n.fillOpacity=0,n.pixelPerfect=!0,n.padding(0,4,0,4),n.stroke=i.getFor("text"),n.strokeOpacity=.7,n.align="center",n.valign="middle",e.icon=n,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",(function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout((function(){e.hide()}),e.autoHideDelay))})),e.events.on("down",(function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose()})),e.events.on("out",(function(t){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout((function(){e.hide()}),e.autoHideDelay))})),e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){if(this.setPropertyValue("position",t))switch(t){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=Object(m.c)(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=Object(m.c)(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=Object(m.c)(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=Object(m.c)(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=Object(m.c)(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(t){this.setPropertyValue("autoHideDelay",t)},enumerable:!0,configurable:!0}),e}(ot.a);f.c.registeredClasses.Grip=at;var st=function(t){function e(){var e=t.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e}(l.a),lt=function(t){function e(){var i=t.call(this)||this;if(i._legend=new _.d,i.constructor===e)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");i.className="Chart";var n=new p.a;i.titles=new u.e(n),i._disposers.push(new u.c(i.titles)),i._disposers.push(n),i.width=Object(m.c)(100),i.height=Object(m.c)(100),i.layout="vertical";var r=i.createChild(c.a);r.shouldClone=!1,r.layout="vertical",r.width=Object(m.c)(100),r.height=Object(m.c)(100),i.chartAndLegendContainer=r;var o=r.createChild(c.a);return o.shouldClone=!1,o.width=Object(m.c)(100),o.height=Object(m.c)(100),i.chartContainer=o,i.showOnInit=!0,i._disposers.push(i._legend),i.titles.events.on("inserted",(function(t){i.processTitle(t),i.updateReaderTitleReferences()}),i,!1),i.titles.events.on("removed",(function(t){i.updateReaderTitleReferences()}),i,!1),i.role="region",i.defaultState.transitionDuration=1,i.applyTheme(),i}return Object(a.__extends)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},e.prototype.draw=function(){this.fixLayout(),t.prototype.draw.call(this)},e.prototype.fixLayout=function(){var t=this.legend;if(t){var e=this.chartAndLegendContainer,i=this.chartContainer;switch(i.x=void 0,i.y=void 0,t.x=void 0,t.y=void 0,t.position){case"left":e.layout="horizontal",t.toBack();break;case"right":e.layout="horizontal",t.toFront();break;case"top":e.layout="vertical",t.toBack();break;case"bottom":e.layout="vertical",t.toFront()}}},e.prototype.feedLegend=function(){},e.prototype.processTitle=function(t){var e=t.newValue;return e.parent=this,e.toBack(),e.shouldClone=!1,e.align="center",e.uidAttr(),e},e.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var t=[];N.each(this.titles.iterator(),(function(e){t.push(e.uid)})),this.setSVGAttribute({"aria-labelledby":t.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(e.prototype,"legend",{get:function(){return this._legend.get()},set:function(t){this.setLegend(t)},enumerable:!0,configurable:!0}),e.prototype.setLegend=function(t){var e=this;this._legend.get()!==t&&(t?(t.maxWidth=200,t.parent=this.chartAndLegendContainer,this._legend.set(t,t.events.on("propertychanged",(function(t){"position"==t.property&&e.fixLayout()}),void 0,!1))):this._legend.reset(),this.feedLegend())},e.prototype.dispose=function(){this.legend&&this.legend.dispose(),t.prototype.dispose.call(this)},e.prototype.processConfig=function(e){e&&b.hasValue(e.legend)&&!b.hasValue(e.legend.type)&&(e.legend.type="Legend"),t.prototype.processConfig.call(this,e)},e.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),t.prototype.copyFrom.call(this,e)},Object.defineProperty(e.prototype,"dragGrip",{get:function(){var t=this;if(!this._dragGrip){var e=this.tooltipContainer.createChild(at);e.align="right",e.valign="middle",e.hide(0),e.events.on("down",(function(e){e.touch&&(t.interactionsEnabled=!1)})),e.events.on("up",(function(e){t.interactionsEnabled=!0})),this.events.on("down",(function(t){t.touch&&e.show()})),this._dragGrip=e}return this._dragGrip},set:function(t){this._dragGrip=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(t){this.parent.focusable=!0},enumerable:!0,configurable:!0}),e}(s.a);f.c.registeredClasses.Chart=lt,C.c.push({relevant:C.b.widthXS,state:function(t,e){if(t instanceof lt){var i=t.states.create(e);return t.pixelPaddingLeft>10&&(i.properties.paddingLeft=10),t.pixelPaddingRight>10&&(i.properties.paddingRight=10),i}return null}}),C.c.push({relevant:C.b.heightXS,state:function(t,e){if(t instanceof lt){var i=t.states.create(e);return t.pixelPaddingTop>10&&(i.properties.paddingTop=10),t.pixelPaddingBottom>10&&(i.properties.paddingBottom=10),i}return null}}),C.c.push({relevant:C.b.widthXXS,state:function(t,e){if(t instanceof lt){var i=t.states.create(e);return i.properties.paddingLeft=0,i.properties.paddingRight=0,i}return null}}),C.c.push({relevant:C.b.heightXXS,state:function(t,e){if(t instanceof lt){var i=t.states.create(e);return i.properties.paddingTop=0,i.properties.paddingBottom=0,i}return null}});var ut=i("FzUt"),ht=function(t){function e(){var e=t.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(t){if(this.setPropertyValue("locationX",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(t){if(this.setPropertyValue("locationY",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(t){this.setPropertyValue("xField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(t){this.setPropertyValue("yField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(t){this.setPropertyValue("isDynamic",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(t){this.setPropertyValue("copyToLegendMarker",t)},enumerable:!0,configurable:!0}),e}(c.a);f.c.registeredClasses.Bullet=ht,C.c.push({relevant:C.b.isXS,state:function(t,e){if(t instanceof ht){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var ct=i("UpBs"),pt=i("7AON"),dt=function(t){function e(){var e=t.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new ut.a,this._disposers.push(new ut.b(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.bullets.clear(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),e}(l.a),ft=function(t){function e(){var i=t.call(this)||this;if(i._ignoreMinMax=!1,i._showBullets=!0,i.legendSettings=new L,i._tmin=new ut.a,i._tmax=new ut.a,i._smin=new ut.a,i._smax=new ut.a,i.dataItemsByAxis=new ut.a,i.skipFocusThreshold=20,i._itemReaderTextChanged=!1,i.calculatePercent=!1,i.autoDispose=!0,i.simplifiedProcessing=!1,i.constructor===e)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");i.className="Series",i.isMeasured=!1,i.layout="none",i.shouldClone=!1,i.setPropertyValue("hidden",!1),i.axisRanges=new u.b,i.axisRanges.events.on("inserted",i.processAxisRange,i,!1),i.minBulletDistance=0,i.mainContainer=i.createChild(c.a),i.mainContainer.shouldClone=!1,i.mainContainer.mask=i.createChild(P.a),i._disposers.push(i.mainContainer);var n=i.mainContainer.createChild(c.a);return i._shouldBeReady.push(n),n.shouldClone=!1,n.layout="none",n.virtualParent=i,i._disposers.push(n),i.bulletsContainer=n,i.tooltip=new D.a,i.tooltip.virtualParent=i,i._disposers.push(i.tooltip),i.hiddenState.transitionEasing=pt.cubicIn,i.dataItem=i.createDataItem(),i._disposers.push(i.dataItem),i.dataItem.component=i,i.role="group",i.applyTheme(),i}return Object(a.__extends)(e,t),e.prototype.applyTheme=function(){t.prototype.applyTheme.call(this),ct.a.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},e.prototype.createDataItem=function(){return new dt},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),e.prototype.positionBullet=function(t){},e.prototype.processBullet=function(t){var e=this,i=t.newValue;i.isTemplate=!0,this.events.once("datavalidated",(function(t){e.itemsFocusable()&&(i.focusable=!0)}))},e.prototype.removeBullet=function(t){var e=t.oldValue;this.dataItems.each((function(t){var i=t.bullets.getKey(e.uid);i&&i.dispose()})),this.invalidate()},e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.processValues(!1)},e.prototype.getFirstValue=function(t,e){e>0&&e<this.dataItems.length-1&&e++;for(var i=e;i>=0;i--){var n=this.dataItems.getIndex(i).getActualWorkingValue(t);if(b.isNumber(n))return n}return null},e.prototype.getAbsoluteFirstValue=function(t){for(var e=0;e<this.dataItems.length;e++){var i=this.dataItems.getIndex(e).values[t].value;if(b.isNumber(i))return i}return null},e.prototype.rangeChangeUpdate=function(){t.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},e.prototype.processValues=function(t){var e=this;if(!this.simplifiedProcessing){var i=this.dataItems,n={},r={},o={},a={},s={},l={},u={},h={},c={},p={},d=x.max(0,this._workingStartIndex);d=x.min(d,this.dataItems.length);var f=x.min(this._workingEndIndex,this.dataItems.length);if(b.isNumber(d)||(d=0),b.isNumber(f)||(f=this.dataItems.length),d>0){var g=i.getIndex(d-1);$.each(g.values,(function(t,e){var i=g.getActualWorkingValue(t);b.isNumber(i)&&(h[t]=i)}))}for(var m=function(t){var f=i.getIndex(t);$.each(f.values,(function(t,i){var g=f.getActualWorkingValue(t);if(b.isNumber(g)){b.isNumber(n[t])||(n[t]=0),n[t]++,b.isNumber(r[t])||(r[t]=0),r[t]+=g,b.isNumber(o[t])||(o[t]=0),o[t]+=Math.abs(g),b.isNumber(l[t])||(l[t]=g),u[t]=g,b.isNumber(a[t])?a[t]>g&&(a[t]=g):a[t]=g,b.isNumber(s[t])?s[t]<g&&(s[t]=g):s[t]=g,b.isNumber(c[t])||(c[t]=e.getFirstValue(t,d)),b.isNumber(p[t])||(p[t]=e.getAbsoluteFirstValue(t)),f.setCalculatedValue(t,g-c[t],"change"),f.setCalculatedValue(t,(g-c[t])/c[t]*100,"changePercent"),f.setCalculatedValue(t,g-p[t],"startChange"),f.setCalculatedValue(t,(g-p[t])/p[t]*100,"startChangePercent");var m=h[t];b.isNumber(m)||(m=g),f.setCalculatedValue(t,g-m,"previousChange"),f.setCalculatedValue(t,(g-m)/m*100,"previousChangePercent"),h[t]=g}}))},y=d;y<f;y++)m(y);if(this.calculatePercent){var v=function(t){var e=i.getIndex(t);$.each(e.values,(function(t){var i=o[t],n=e.getActualWorkingValue(t);b.isNumber(n)&&(i>0?(n==i&&(i=e.values[t].value),e.setCalculatedValue(t,n/i*100,"percent")):e.setCalculatedValue(t,0,"percent"))}))};for(y=d;y<f;y++)v(y)}if(d>0){var P=i.getIndex(d-1);$.each(P.values,(function(t){var e=P.values[t].value;P.setCalculatedValue(t,e-l[t],"change"),P.setCalculatedValue(t,(e-l[t])/l[t]*100,"changePercent")}))}var _=this.dataItem;$.each(_.values,(function(t){_.setCalculatedValue(t,r[t],"sum"),_.setCalculatedValue(t,o[t],"absoluteSum"),_.setCalculatedValue(t,r[t]/n[t],"average"),_.setCalculatedValue(t,l[t],"open"),_.setCalculatedValue(t,u[t],"close"),_.setCalculatedValue(t,a[t],"low"),_.setCalculatedValue(t,s[t],"high"),_.setCalculatedValue(t,n[t],"count")}))}},e.prototype.validate=function(){N.each(this.axisRanges.iterator(),(function(t){t.validate()})),t.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++)(n=this.dataItems.getIndex(i))&&n.bullets.each((function(t,e){e.__disabled=!0}));for(i=this.dataItems.length-1;i>this.endIndex;i--){var n;(n=this.dataItems.getIndex(i))&&n.bullets.each((function(t,e){e.__disabled=!0}))}}else this.bulletsContainer.children.each((function(t){t.__disabled=!0}));this.updateTooltipBounds()},e.prototype.updateTooltipBounds=function(){this.topParent&&this.tooltip.setBounds({x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight})},e.prototype.shouldCreateBullet=function(t,e){return!0},e.prototype.validateDataElement=function(e){var i=this;t.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each((function(t){var n=e.bullets.getKey(t.uid);if(i.shouldCreateBullet(e,t)){if(!n){var r=t.propertyFields.disabled,o=e.dataContext;r&&o&&!1===o[r]?(t.applyOnClones=!1,t.disabled=!1,n=t.clone(),t.disabled=!0,t.applyOnClones=!0):n=t.clone(),n.shouldClone=!1,e.addSprite(n),i.visible&&!i.isHiding||n.hide(0)}var a=n.dataItem;if(a!=e){a&&a.bullets.setKey(t.uid,void 0);var s=i.itemReaderText;n instanceof ht&&(s||(s="{"+n.xField+"}: {"+n.yField+"}"),n.isDynamic&&(e.events.on("workingvaluechanged",n.deepInvalidate,n,!1),i.dataItem.events.on("workingvaluechanged",n.deepInvalidate,n,!1)),n.deepInvalidate()),n.focusable&&(n.events.on("focus",(function(t){n.readerTitle=i.populateString(s,n.dataItem)}),void 0,!1),n.events.on("blur",(function(t){n.readerTitle=""}),void 0,!1)),n.hoverable&&(n.events.on("over",(function(t){n.readerTitle=i.populateString(s,n.dataItem)}),void 0,!1),n.events.on("out",(function(t){n.readerTitle=""}),void 0,!1))}n.parent=i.bulletsContainer,e.bullets.setKey(t.uid,n),n.maxWidth=e.itemWidth,n.maxHeight=e.itemHeight,n.__disabled=!1,i.positionBullet(n)}}))):this.bulletsContainer.visible=!1},e.prototype.handleDataItemWorkingValueChange=function(t,e){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(e.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(t){this._ignoreMinMax=t,this.invalidateDataItems()},enumerable:!0,configurable:!0}),e.prototype.createMask=function(){},e.prototype.processAxisRange=function(t){this.rangesContainer||(this.rangesContainer=this.createChild(c.a),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var e=t.newValue;e&&(e.contents.parent=this.rangesContainer,e.isRange=!0,e.events.on("valuechanged",this.invalidateDataItems,this,!1))},e.prototype.getAxisField=function(t){},e.prototype.showTooltipAtPosition=function(t,e){},Object.defineProperty(e.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(t){this.setPropertyValue("minBulletDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new u.e(new ht),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new u.c(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),e.prototype.createLegendMarker=function(t){},Object.defineProperty(e.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(t){this.setPropertyValue("hiddenInLegend",t)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(t){this.setPropertyValue("name",t);var e=this.legendDataItem;e&&(e.component.invalidate(),e.component.invalidateRawData()),this.readerTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemReaderText",{get:function(){var t=this._itemReaderText;return t||(this.tooltipText?t=v.plainText(this.tooltipText):this.tooltipHTML&&(t=v.plainText(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",t):t},set:function(t){this._itemReaderText=t,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),e.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(e.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),e.prototype.updateLegendValue=function(t,e){if(this.legendDataItem){var i=this.legendSettings,n=this.legendDataItem,r=n.label,o=n.valueLabel;t||e?(o&&(i.itemValueText&&(o.text=i.itemValueText),o.dataItem=t),r&&(i.itemLabelText&&(r.text=i.itemLabelText),r.dataItem=t)):(r&&((i.labelText||null!=i.itemLabelText)&&(r.text=i.labelText),r.dataItem=this.dataItem),o&&((i.valueText||null!=i.itemValueText)&&(o.text=i.valueText),o.dataItem=this.dataItem))}},e.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.simplifiedProcessing=e.simplifiedProcessing,t.prototype.copyFrom.call(this,e)},e.prototype.raiseCriticalError=function(t){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",t).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0),ct.a.verbose&&console.log(t)},e.prototype.applyFilters=function(){var e=this;t.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),N.each(this.filters.iterator(),(function(t){e.bulletsContainer.filters.push(t.clone())}))},Object.defineProperty(e.prototype,"heatRules",{get:function(){var t=this;return this._heatRules||(this._heatRules=new u.b,this._heatRules.events.on("inserted",(function(e){var i=e.newValue,n=i.target;if(n){var r=i.dataField;b.hasValue(r)||(r="value");var o=i.min,a=i.max,s=t.dataItem,l=i.property,u=b.toNumber(i.minValue),h=b.toNumber(i.maxValue);b.isNumber(u)||b.isNumber(h)||t.dataItem.events.on("calculatedvaluechanged",(function(e){e.property==r&&N.each(t.dataItems.iterator(),(function(t){var e=!1;F.each(t.sprites,(function(t){t.clonedFrom==n&&(t[l]=t[l],e=!0)})),e||F.each(t.sprites,(function(t){t instanceof c.a&&N.each(t.children.iterator(),(function(t){t.className==n.className?t[l]=t[l]:t instanceof c.a&&t.deepInvalidate()}))}))}))})),t.dataItems.template.events.on("workingvaluechanged",(function(t){if(t.property==r){var e=t.target,i=!1;F.each(e.sprites,(function(t){t.clonedFrom==n&&(t[l]=t[l],i=!0)})),i||F.each(e.sprites,(function(t){t instanceof c.a&&N.each(t.children.iterator(),(function(t){t.className==n.className?t[l]=t[l]:t instanceof c.a&&t.deepInvalidate()}))}))}})),n.adapter.add(l,(function(t,e,n){var l=b.toNumber(i.minValue),u=b.toNumber(i.maxValue);if(e instanceof P.a){var h=e.propertyFields[n];if(h&&e.dataItem){var c=e.dataItem.dataContext;if(c&&b.hasValue(c[h]))return t}}var p=e.dataItem;if(b.isNumber(l)||(l=s.values[r].low),b.isNumber(u)||(u=s.values[r].high),p&&p.values[r]){var d=p.getActualWorkingValue(r);if(b.hasValue(o)&&b.hasValue(a)&&b.isNumber(l)&&b.isNumber(u)&&b.isNumber(d)){var f=(d-l)/(u-l);if(b.isNumber(d)&&!b.isNumber(f)&&(f=.5),b.isNumber(o))return o+(a-o)*f;if(o instanceof w.a)return new w.a(nt.interpolate(o.rgb,a.rgb,f))}}return t}))}}))),this._heatRules},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){var i;if(e){if(b.hasValue(e.bullets)&&b.isArray(e.bullets))for(var n=0,r=e.bullets.length;n<r;n++){var o=e.bullets[n];b.hasValue(o.type)||(o.type="Bullet")}b.hasValue(e.heatRules)&&b.isArray(e.heatRules)&&(i=e.heatRules,delete e.heatRules)}if(t.prototype.processConfig.call(this,e),i){for(n=0,r=i.length;n<r;n++){var a=i[n],s=this;if(b.hasValue(a.target)&&b.isString(a.target))if(this.map.hasKey(a.target))s=this.map.getKey(a.target);else for(var l=a.target.split("."),h=0;h<l.length;h++)if(s instanceof u.b){var c=s.getIndex(b.toNumber(l[h]));s=c||s[l[h]]}else s=s[l[h]];a.target=s,b.hasValue(a.min)&&(a.min=this.maybeColorOrPercent(a.min)),b.hasValue(a.max)&&(a.max=this.maybeColorOrPercent(a.max))}t.prototype.processConfig.call(this,{heatRules:i})}},e.prototype.configOrder=function(e,i){return e==i?0:"heatRules"==e?1:"heatRules"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(s.a);f.c.registeredClasses.Series=ft,f.c.registeredClasses.SeriesDataItem=dt;var gt=i("7sX4"),mt=function(t){function e(){var e=t.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e}(st),yt=function(t){function e(){var e=t.call(this)||this;e.className="SerialChart",e.colors=new gt.a,e._usesData=!1;var i=e.chartContainer.createChild(c.a);i.shouldClone=!1,i.width=Object(m.c)(100),i.height=Object(m.c)(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,e.seriesContainer=i;var n=e.chartContainer.createChild(c.a);return n.shouldClone=!1,n.width=Object(m.c)(100),n.height=Object(m.c)(100),n.isMeasured=!1,n.zIndex=3,n.layout="none",e.bulletsContainer=n,e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new u.e(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new u.c(this._series)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),e.prototype.handleSeriesRemoved=function(t){var e=this,i=t.oldValue;this.dataUsers.removeValue(i),this.dataUsers.each((function(t){t.invalidateDataItems()})),i.autoDispose&&i.dispose(),this.legend&&(this.legend.dataItems.each((function(t){t.dataContext==i&&e.legend.dataItems.remove(t)})),F.each(this.legend.data,(function(t){F.remove(e.legend.data,t)})))},e.prototype.handleSeriesAdded=function(t){var e=this,i=t.newValue;i.isDisposed()||(i.chart=this,i.parent=this.seriesContainer,i.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(i),i.addDisposer(new _.b((function(){e.dataUsers.removeValue(i)}))),this.handleSeriesAdded2(i),i.hiddenInLegend||this.legend&&this.legend.addData(i))},e.prototype.handleSeriesAdded2=function(t){var e=this;this.dataInvalid||this._disposers.push(f.c.events.once("exitframe",(function(){t.data&&0!=t.data.length||e.invalidateData()})))},e.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];N.each(this.series.iterator(),(function(t){t.hiddenInLegend||e.push(t)})),t.dataFields.name="name",t.data=e}},e.prototype.createSeries=function(){return new ft},Object.defineProperty(e.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(t){this.setPropertyValue("colors",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(t){this.setPropertyValue("patterns",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},e.prototype.appear=function(){t.prototype.appear.call(this),this.series.each((function(t){t.showOnInit&&t.inited&&t.appear()}))},e}(lt);f.c.registeredClasses.SerialChart=yt;var vt=function(){return new bt};function bt(){this.reset()}bt.prototype={constructor:bt,reset:function(){this.s=this.t=0},add:function(t){Pt(xt,t,this.t),Pt(this,xt.s,this.s),this.s?this.t+=xt.t:this.s=xt.t},valueOf:function(){return this.s}};var xt=new bt;function Pt(t,e,i){var n=t.s=e+i,r=n-e;t.t=e-(n-r)+(i-r)}var _t=1e-6,Mt=1e-12,Ct=Math.PI,Ot=Ct/2,jt=Ct/4,Lt=2*Ct,St=180/Ct,Tt=Ct/180,wt=Math.abs,Vt=Math.atan,It=Math.atan2,kt=Math.cos,Dt=Math.ceil,Et=Math.exp,Nt=(Math,Math.log),At=Math.pow,Ft=Math.sin,Rt=Math.sign||function(t){return t>0?1:t<0?-1:0},Gt=Math.sqrt,Bt=Math.tan;function zt(t){return t>1?0:t<-1?Ct:Math.acos(t)}function Wt(t){return t>1?Ot:t<-1?-Ot:Math.asin(t)}function Ht(t){return(t=Ft(t/2))*t}function Zt(){}function Xt(t,e){t&&Ut.hasOwnProperty(t.type)&&Ut[t.type](t,e)}var Yt={Feature:function(t,e){Xt(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)Xt(i[n].geometry,e)}},Ut={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)e.point((t=i[n])[0],t[1],t[2])},LineString:function(t,e){Kt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Kt(i[n],e,0)},Polygon:function(t,e){qt(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)qt(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)Xt(i[n],e)}};function Kt(t,e,i){var n,r=-1,o=t.length-i;for(e.lineStart();++r<o;)e.point((n=t[r])[0],n[1],n[2]);e.lineEnd()}function qt(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)Kt(t[i],e,1);e.polygonEnd()}var Jt,Qt,$t,te,ee,ie=function(t,e){t&&Yt.hasOwnProperty(t.type)?Yt[t.type](t,e):Xt(t,e)},ne=vt(),re=vt(),oe={point:Zt,lineStart:Zt,lineEnd:Zt,polygonStart:function(){ne.reset(),oe.lineStart=ae,oe.lineEnd=se},polygonEnd:function(){var t=+ne;re.add(t<0?Lt+t:t),this.lineStart=this.lineEnd=this.point=Zt},sphere:function(){re.add(Lt)}};function ae(){oe.point=le}function se(){ue(Jt,Qt)}function le(t,e){oe.point=ue,Jt=t,Qt=e,$t=t*=Tt,te=kt(e=(e*=Tt)/2+jt),ee=Ft(e)}function ue(t,e){var i=(t*=Tt)-$t,n=i>=0?1:-1,r=n*i,o=kt(e=(e*=Tt)/2+jt),a=Ft(e),s=ee*a,l=te*o+s*kt(r),u=s*n*Ft(r);ne.add(It(u,l)),$t=t,te=o,ee=a}var he=function(t){return re.reset(),ie(t,oe),2*re};function ce(t){return[It(t[1],t[0]),Wt(t[2])]}function pe(t){var e=t[0],i=t[1],n=kt(i);return[n*kt(e),n*Ft(e),Ft(i)]}function de(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ge(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function me(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ye(t){var e=Gt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ve,be,xe,Pe,_e,Me,Ce,Oe,je,Le,Se=vt(),Te={point:we,lineStart:Ie,lineEnd:ke,polygonStart:function(){Te.point=De,Te.lineStart=Ee,Te.lineEnd=Ne,Se.reset(),oe.polygonStart()},polygonEnd:function(){oe.polygonEnd(),Te.point=we,Te.lineStart=Ie,Te.lineEnd=ke,ne<0?(ve=-(xe=180),be=-(Pe=90)):Se>_t?Pe=90:Se<-_t&&(be=-90),Le[0]=ve,Le[1]=xe},sphere:function(){ve=-(xe=180),be=-(Pe=90)}};function we(t,e){je.push(Le=[ve=t,xe=t]),e<be&&(be=e),e>Pe&&(Pe=e)}function Ve(t,e){var i=pe([t*Tt,e*Tt]);if(Oe){var n=fe(Oe,i),r=fe([n[1],-n[0],0],n);ye(r),r=ce(r);var o,a=t-_e,s=a>0?1:-1,l=r[0]*St*s,u=wt(a)>180;u^(s*_e<l&&l<s*t)?(o=r[1]*St)>Pe&&(Pe=o):u^(s*_e<(l=(l+360)%360-180)&&l<s*t)?(o=-r[1]*St)<be&&(be=o):(e<be&&(be=e),e>Pe&&(Pe=e)),u?t<_e?Ae(ve,t)>Ae(ve,xe)&&(xe=t):Ae(t,xe)>Ae(ve,xe)&&(ve=t):xe>=ve?(t<ve&&(ve=t),t>xe&&(xe=t)):t>_e?Ae(ve,t)>Ae(ve,xe)&&(xe=t):Ae(t,xe)>Ae(ve,xe)&&(ve=t)}else je.push(Le=[ve=t,xe=t]);e<be&&(be=e),e>Pe&&(Pe=e),Oe=i,_e=t}function Ie(){Te.point=Ve}function ke(){Le[0]=ve,Le[1]=xe,Te.point=we,Oe=null}function De(t,e){if(Oe){var i=t-_e;Se.add(wt(i)>180?i+(i>0?360:-360):i)}else Me=t,Ce=e;oe.point(t,e),Ve(t,e)}function Ee(){oe.lineStart()}function Ne(){De(Me,Ce),oe.lineEnd(),wt(Se)>_t&&(ve=-(xe=180)),Le[0]=ve,Le[1]=xe,Oe=null}function Ae(t,e){return(e-=t)<0?e+360:e}function Fe(t,e){return t[0]-e[0]}function Re(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Ge=function(t){var e,i,n,r,o,a,s;if(Pe=xe=-(ve=be=1/0),je=[],ie(t,Te),i=je.length){for(je.sort(Fe),e=1,o=[n=je[0]];e<i;++e)Re(n,(r=je[e])[0])||Re(n,r[1])?(Ae(n[0],r[1])>Ae(n[0],n[1])&&(n[1]=r[1]),Ae(r[0],n[1])>Ae(n[0],n[1])&&(n[0]=r[0])):o.push(n=r);for(a=-1/0,e=0,n=o[i=o.length-1];e<=i;n=r,++e)(s=Ae(n[1],(r=o[e])[0]))>a&&(a=s,ve=r[0],xe=n[1])}return je=Le=null,ve===1/0||be===1/0?[[NaN,NaN],[NaN,NaN]]:[[ve,be],[xe,Pe]]},Be=function(t){function e(){var e=t.call(this)||this;return e.className="MapSeriesDataItem",e.values.value={},e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this.properties.zoomLevel},set:function(t){this.setProperty("zoomLevel",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomGeoPoint",{get:function(){return this.properties.zoomGeoPoint},set:function(t){this.setProperty("zoomGeoPoint",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"east",{get:function(){return this._east},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return this._west},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return this._south},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"north",{get:function(){return this._north},enumerable:!0,configurable:!0}),e.prototype.updateExtremes=function(){var t=this.getFeature().geometry;if(t){var e=Ge(t),i=e[0][0],n=e[0][1],r=e[1][1],o=e[1][0],a=!1;r!=this.north&&(this._north=x.round(r,6),a=!0),n!=this.south&&(this._south=x.round(n,6),a=!0),o!=this.east&&(this._east=x.round(o,6),a=!0),i!=this.west&&(this._west=x.round(i,6),a=!0),this._east<this._west&&(this._east=180,this._west=-180),a&&this.component.invalidateDataItems()}},e.prototype.getFeature=function(){return{}},e}(dt),ze=function(t){function e(){var e=t.call(this)||this;return e.className="MapSeries",e.isMeasured=!1,e.nonScalingStroke=!0,e.dataFields.value="value",e.ignoreBounds=!1,e.tooltip&&(e.tooltip.showInViewport=!0),e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createDataItem=function(){return new Be},e.prototype.checkInclude=function(t,e,i){if(t){if(0==t.length)return!1;if(-1==t.indexOf(i))return!1}return!(e&&e.length>0&&-1!=e.indexOf(i))},Object.defineProperty(e.prototype,"useGeodata",{get:function(){return this.getPropertyValue("useGeodata")},set:function(t){this.setPropertyValue("useGeodata",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"include",{get:function(){return this.getPropertyValue("include")},set:function(t){this.setPropertyValue("include",t)&&this.processIncExc()},enumerable:!0,configurable:!0}),e.prototype.processIncExc=function(){this.invalidateData()},Object.defineProperty(e.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(t){this.setPropertyValue("ignoreBounds",t)&&this.chart&&this.chart.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclude",{get:function(){return this.getPropertyValue("exclude")},set:function(t){this.setPropertyValue("exclude",t)&&this.processIncExc()},enumerable:!0,configurable:!0}),e.prototype.handleObjectAdded=function(t){var e=t.newValue;e.parent=this,e.series=this,e.strokeWidth=e.strokeWidth},Object.defineProperty(e.prototype,"geodata",{get:function(){return this._geodata},set:function(t){if(t!=this._geodata){this._geodata=t;for(var e=this.data.length-1;e>=0;e--)1==this.data[e].madeFromGeoData&&this.data.splice(e,1);this.disposeData(),this.invalidateData()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geodataSource",{get:function(){return this._dataSources.geodata||this.getDataSource("geodata"),this._dataSources.geodata},set:function(t){var e=this;this._dataSources.geodata&&this.removeDispose(this._dataSources.geodata),this._dataSources.geodata=t,this._dataSources.geodata.component=this,this.events.on("inited",(function(){e.loadData("geodata")}),void 0,!1),this.setDataSourceEvents(t,"geodata")},enumerable:!0,configurable:!0}),e.prototype.getFeatures=function(){},e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.updateExtremes()},e.prototype.updateExtremes=function(){var t,e,i,n;this.dataItems.each((function(r){(r.north>t||!b.isNumber(t))&&(t=r.north),(r.south<e||!b.isNumber(e))&&(e=r.south),(r.west<n||!b.isNumber(n))&&(n=r.west),(r.east>i||!b.isNumber(i))&&(i=r.east)})),this._mapObjects&&this._mapObjects.each((function(r){(r.north>t||!b.isNumber(t))&&(t=r.north),(r.south<e||!b.isNumber(e))&&(e=r.south),(r.west<n||!b.isNumber(n))&&(n=r.west),(r.east>i||!b.isNumber(i))&&(i=r.east)})),this.north==t&&this.east==i&&this.south==e&&this.west==n||(this._north=t,this._east=i,this._west=n,this._south=e,this.dispatch("geoBoundsChanged"),this.ignoreBounds||this.chart.updateExtremes())},Object.defineProperty(e.prototype,"north",{get:function(){return b.isNumber(this._northDefined)?this._northDefined:this._north},set:function(t){this._northDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return b.isNumber(this._southDefined)?this._southDefined:this._south},set:function(t){this._southDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return b.isNumber(this._westDefined)?this._westDefined:this._west},set:function(t){this._westDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"east",{get:function(){return b.isNumber(this._eastDefined)?this._eastDefined:this._east},set:function(t){this._eastDefined=t},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(b.hasValue(e.geodata)&&b.isString(e.geodata)){var i=e.geodata;if(b.hasValue(window["am4geodata_"+e.geodata]))e.geodata=window["am4geodata_"+e.geodata];else try{e.geodata=JSON.parse(e.geodata)}catch(n){throw Error("MapChart error: Geodata `"+i+"` is not loaded or is incorrect.")}}t.prototype.processConfig.call(this,e)},e.prototype.asIs=function(e){return"geodata"==e||t.prototype.asIs.call(this,e)},e.prototype.updateTooltipBounds=function(){this.tooltip&&this.topParent&&this.tooltip.setBounds({x:10,y:10,width:this.topParent.maxWidth-20,height:this.topParent.maxHeight-20})},e}(ft);f.c.registeredClasses.MapSeries=ze,f.c.registeredClasses.MapSeriesDataItem=Be;var We=function(t){function e(){var e=t.call(this)||this;return e.className="MapObject",e.isMeasured=!1,e.layout="none",e.clickable=!0,e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.validate=function(){this.series&&(this.readerTitle=this.series.itemReaderText),t.prototype.validate.call(this)},e.prototype.updateExtremes=function(){var t=this.getFeature();if(t){var e=t.geometry;if(e){var i=Ge(e),n=i[0][0],r=i[0][1],o=i[1][1],a=i[1][0],s=!1;o!=this.north&&(this._north=x.round(o,8),s=!0),r!=this.south&&(this._south=x.round(r),s=!0),a!=this.east&&(this._east=x.round(a),s=!0),n!=this.west&&(this._west=x.round(n),s=!0),s&&(this.dispatch("geoBoundsChanged"),this.series&&this.series.invalidateDataItems())}}},e.prototype.getFeature=function(){return{}},Object.defineProperty(e.prototype,"east",{get:function(){return b.isNumber(this._east)?this._east:this.dataItem?this.dataItem.east:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return b.isNumber(this._west)?this._west:this.dataItem?this.dataItem.west:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return b.isNumber(this._south)?this._south:this.dataItem?this.dataItem.south:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"north",{get:function(){return b.isNumber(this._north)?this._north:this.dataItem?this.dataItem.north:void 0},enumerable:!0,configurable:!0}),e.prototype.showTooltip=function(e){var i=t.prototype.showTooltip.call(this,e);return i&&"always"==this.showTooltipOn&&!this.series.chart.events.has("mappositionchanged",this.handleTooltipMove,this)&&this.series.chart.events.on("mappositionchanged",this.handleTooltipMove,this),i},e.prototype.handleTooltipMove=function(t){this.showTooltip()},e}(c.a);f.c.registeredClasses.MapObject=We;var He=function(t){function e(){var e=t.call(this)||this;return e.className="MapImage",e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"latitude",{get:function(){return this.getPropertyValue("latitude")},set:function(t){this.setPropertyValue("latitude",t,!1,!0),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.getPropertyValue("longitude")},set:function(t){this.setPropertyValue("longitude",t,!1,!0),this.updateExtremes()},enumerable:!0,configurable:!0}),e.prototype.validatePosition=function(){if(b.isNumber(this.latitude)&&b.isNumber(this.longitude)){var e=this.series.chart.projection.d3Projection([this.longitude,this.latitude]),i=this.series.chart.projection.d3Path({type:"Point",coordinates:[this.longitude,this.latitude]});this.__disabled=!i,this.moveTo({x:e[0],y:e[1]})}t.prototype.validatePosition.call(this)},e.prototype.getFeature=function(){return{type:"Feature",geometry:{type:"Point",coordinates:[this.longitude,this.latitude]}}},e}(We);f.c.registeredClasses.MapImage=He;var Ze=i("4So7"),Xe=i("mYRP"),Ye=i.n(Xe),Ue=function(t){return function(){return t}},Ke=function(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return(i=e.invert(i,n))&&t.invert(i[0],i[1])}),i};function qe(t,e){return[wt(t)>Ct?t+Math.round(-t/Lt)*Lt:t,e]}function Je(t,e,i){return(t%=Lt)?e||i?Ke($e(t),ti(e,i)):$e(t):e||i?ti(e,i):qe}function Qe(t){return function(e,i){return[(e+=t)>Ct?e-Lt:e<-Ct?e+Lt:e,i]}}function $e(t){var e=Qe(t);return e.invert=Qe(-t),e}function ti(t,e){var i=kt(t),n=Ft(t),r=kt(e),o=Ft(e);function a(t,e){var a=kt(e),s=kt(t)*a,l=Ft(t)*a,u=Ft(e),h=u*i+s*n;return[It(l*r-h*o,s*i-u*n),Wt(h*r+l*o)]}return a.invert=function(t,e){var a=kt(e),s=kt(t)*a,l=Ft(t)*a,u=Ft(e),h=u*r-l*o;return[It(l*r+u*o,s*i+h*n),Wt(h*i-s*n)]},a}qe.invert=qe;var ei=function(t){function e(e){return(e=t(e[0]*Tt,e[1]*Tt))[0]*=St,e[1]*=St,e}return t=Je(t[0]*Tt,t[1]*Tt,t.length>2?t[2]*Tt:0),e.invert=function(e){return(e=t.invert(e[0]*Tt,e[1]*Tt))[0]*=St,e[1]*=St,e},e};function ii(t,e,i,n,r,o){if(i){var a=kt(e),s=Ft(e),l=n*i;null==r?(r=e+n*Lt,o=e-l/2):(r=ni(a,r),o=ni(a,o),(n>0?r<o:r>o)&&(r+=n*Lt));for(var u,h=r;n>0?h>o:h<o;h-=l)u=ce([a,-s*kt(h),-s*Ft(h)]),t.point(u[0],u[1])}}function ni(t,e){(e=pe(e))[0]-=t,ye(e);var i=zt(-e[1]);return((-e[2]<0?-i:i)+Lt-_t)%Lt}var ri=function(){var t,e,i=Ue([0,0]),n=Ue(90),r=Ue(6),o={point:function(i,n){t.push(i=e(i,n)),i[0]*=St,i[1]*=St}};function a(){var a=i.apply(this,arguments),s=n.apply(this,arguments)*Tt,l=r.apply(this,arguments)*Tt;return t=[],e=Je(-a[0]*Tt,-a[1]*Tt,0).invert,ii(o,s,l,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(i="function"==typeof t?t:Ue([+t[0],+t[1]]),a):i},a.radius=function(t){return arguments.length?(n="function"==typeof t?t:Ue(+t),a):n},a.precision=function(t){return arguments.length?(r="function"==typeof t?t:Ue(+t),a):r},a};function oi(t){return F.map(t,(function(t){var e=t[0],i=t[1],n=[];return e&&n.push(si(e)),i&&n.push(si(i)),n}))}function ai(t){return F.map(t,(function(t){return si(t)}))}function si(t){return F.map(t,(function(t){return ui(t)}))}function li(t){return F.map(t,hi)}function ui(t){return{longitude:t[0],latitude:t[1]}}function hi(t){return[t.longitude,t.latitude]}function ci(t){return F.map(t,(function(t){return F.map(t,hi)}))}function pi(t){return F.map(t,(function(t){var e=t[0],i=t[1],n=[];return e&&n.push(li(e)),i&&n.push(li(i)),n}))}function di(t,e,i){return[ri().center([t,e]).radius(i)().coordinates]}function fi(t,e,i,n){var r=[];-180==n&&(n=-179.9999),-90==i&&(i=-89.9999),90==t&&(t=89.9999),180==e&&(e=179.9999);for(var o=Math.min(90,(e-n)/Math.ceil((e-n)/90)),a=(t-i)/Math.ceil((t-i)/90),s=n;s<e;s+=o){var l=[];r.push([l]),s+o>e&&(o=e-s);for(var u=s;u<=s+o;u+=5)l.push([u,t]);for(var h=t;h>=i;h-=a)l.push([s+o,h]);for(u=s+o;u>=s;u-=5)l.push([u,i]);for(h=i;h<=t;h+=a)l.push([s,h])}return r}var gi=function(t){function e(){var e=t.call(this)||this;e.className="MapPolygon",e.polygon=e.createChild(Ze.a),e.polygon.shouldClone=!1,e.polygon.applyOnClones=!0;var i=new y.a;return e.fill=i.getFor("secondaryButton"),e.stroke=i.getFor("secondaryButtonStroke"),e.strokeOpacity=1,e.tooltipPosition="pointer",e.nonScalingStroke=!0,e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.getFeature=function(){if(this.multiPolygon&&this.multiPolygon.length>0)return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:this.multiPolygon}}},Object.defineProperty(e.prototype,"multiGeoPolygon",{get:function(){var t=this.getPropertyValue("multiGeoPolygon");return!t&&this.dataItem&&(t=this.dataItem.multiGeoPolygon),t},set:function(t){this.setPropertyValue("multiGeoPolygon",t,!0),this.multiPolygon=pi(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiPolygon",{get:function(){var t=this.getPropertyValue("multiPolygon");return!t&&this.dataItem&&(t=this.dataItem.multiPolygon),t},set:function(t){this.setPropertyValue("multiPolygon",t)&&(this.updateExtremes(),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.validate=function(){if(this.series){var e=this.series.chart.projection;if(e.d3Projection.precision(.5),this.multiPolygon)if(this.series&&(this.polygon.path=(0,e.d3Path)({type:"MultiPolygon",coordinates:this.multiPolygon})),this.series.calculateVisualCenter){var i=0,n=this.multiPolygon[0];if(this.multiPolygon.length>1)for(var r=0;r<this.multiPolygon.length;r++){var o=this.multiPolygon[r],a=he({type:"Polygon",coordinates:o});a>i&&(n=o,i=a)}var s=Ye()(n);this._visualLongitude=s[0],this._visualLatitude=s[1]}else this._visualLongitude=this.longitude,this._visualLatitude=this.latitude}t.prototype.validate.call(this)},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"latitude",{get:function(){return this.north+(this.south-this.north)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.east+(this.west-this.east)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visualLatitude",{get:function(){var t=this.getPropertyValue("visualLatitude");return b.isNumber(t)?t:this._adapterO?this._adapterO.apply("visualLatitude",this._visualLatitude):this._visualLatitude},set:function(t){this.setPropertyValue("visualLatitude",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visualLongitude",{get:function(){var t=this.getPropertyValue("visualLongitude");return b.isNumber(t)?t:this._adapterO?this._adapterO.apply("visualLongitude",this._visualLongitude):this._visualLongitude},set:function(t){this.setPropertyValue("visualLongitude",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelWidth",{get:function(){return this.polygon.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelHeight",{get:function(){return this.polygon.pixelHeight},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.polygon.copyFrom(e.polygon)},e.prototype.updateExtremes=function(){t.prototype.updateExtremes.call(this)},Object.defineProperty(e.prototype,"boxArea",{get:function(){return(this.north-this.south)*(this.east-this.west)},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){return this.series.chart.projection.convert({longitude:this.visualLongitude,latitude:this.visualLatitude}).x},e.prototype.getTooltipY=function(){return this.series.chart.projection.convert({longitude:this.visualLongitude,latitude:this.visualLatitude}).y},e}(We);f.c.registeredClasses.MapPolygon=gi;var mi=function(t){function e(){var e=t.call(this)||this;return e.className="MapPolygonSeriesDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.getFeature=function(){if(this.multiPolygon&&this.multiPolygon.length>0)return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:this.multiPolygon}}},Object.defineProperty(e.prototype,"mapPolygon",{get:function(){var t=this;if(!this._mapPolygon){var e=this.component.mapPolygons.create();this._mapPolygon=e,this.addSprite(e),this._disposers.push(new _.b((function(){t.component&&t.component.mapPolygons.removeValue(e)}))),this.mapObject=e}return this._mapPolygon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this.multiPolygon=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiPolygon",{get:function(){return this._multiPolygon},set:function(t){this._multiPolygon=t,this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoPolygon",{get:function(){return this._geoPolygon},set:function(t){this._geoPolygon=t,this.multiGeoPolygon=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiGeoPolygon",{get:function(){return this._multiGeoPolygon},set:function(t){this._multiGeoPolygon=t,this.multiPolygon=pi(t)},enumerable:!0,configurable:!0}),e}(Be),yi=function(t){function e(){var e=t.call(this)||this;return e.calculateVisualCenter=!1,e.className="MapPolygonSeries",e.dataFields.multiPolygon="multiPolygon",e.dataFields.polygon="polygon",e.dataFields.geoPolygon="geoPolygon",e.dataFields.multiGeoPolygon="multiGeoPolygon",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createDataItem=function(){return new mi},e.prototype.processIncExc=function(){this.mapPolygons.clear(),t.prototype.processIncExc.call(this)},e.prototype.validateData=function(){if(this.useGeodata||this.geodata){var e=this._dataSources.geodata?void 0:this.chart.geodata;if(this.geodata&&(e=this.geodata),e){var i=void 0;if("FeatureCollection"==e.type?i=e.features:"Feature"==e.type?i=[e]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(e.type)?i=[{geometry:e}]:console.log("nothing found in geoJSON"),i)for(var n=function(t,e){var n=i[t],o=n.geometry;if(o){var a=o.type,s=n.id;if(r.chart.geodataNames&&r.chart.geodataNames[s]&&(n.properties.name=r.chart.geodataNames[s]),"Polygon"==a||"MultiPolygon"==a){if(!r.checkInclude(r.include,r.exclude,s))return"continue";var l=o.coordinates;l&&"Polygon"==a&&(l=[l]);var u=F.find(r.data,(function(t,e){return t.id==s}));u?u.multiPolygon||(u.multiPolygon=l):r.data.push(u={multiPolygon:l,id:s,madeFromGeoData:!0}),v.softCopyProperties(n.properties,u)}}},r=this,o=0,a=i.length;o<a;o++)n(o)}}t.prototype.validateData.call(this)},e.prototype.validate=function(){t.prototype.validate.call(this),this.dataItems.each((function(t){v.used(t.mapPolygon)})),this.mapPolygons.each((function(t){t.validate(),t.zIndex||t.propertyFields.zIndex||(t.zIndex=1e6-t.boxArea)}))},Object.defineProperty(e.prototype,"mapPolygons",{get:function(){if(!this._mapPolygons){var t=new gi,e=new u.e(t);this._disposers.push(new u.c(e)),this._disposers.push(e.template),e.template.focusable=!0,e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapPolygons=e,this._mapObjects=e}return this._mapPolygons},enumerable:!0,configurable:!0}),e.prototype.getPolygonById=function(t){return N.find(this.mapPolygons.iterator(),(function(e){return e.dataItem.dataContext.id==t}))},e.prototype.copyFrom=function(e){this.mapPolygons.template.copyFrom(e.mapPolygons.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapPolygons.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var n=i.getFeature();n&&e.push(n)}})),e},e}(ze);f.c.registeredClasses.MapPolygonSeries=yi,f.c.registeredClasses.MapPolygonSeriesDataItem=mi;var vi=function(){var t,e=[];return{point:function(e,i){t.push([e,i])},lineStart:function(){e.push(t=[])},lineEnd:Zt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}},bi=function(t,e){return wt(t[0]-e[0])<_t&&wt(t[1]-e[1])<_t};function xi(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}var Pi=function(t,e,i,n,r){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,i,n=t[0],a=t[e];if(bi(n,a)){for(r.lineStart(),o=0;o<e;++o)r.point((n=t[o])[0],n[1]);r.lineEnd()}else s.push(i=new xi(n,t,null,!0)),l.push(i.o=new xi(n,null,i,!1)),s.push(i=new xi(a,t,null,!1)),l.push(i.o=new xi(a,null,i,!0))}})),s.length){for(l.sort(e),_i(s),_i(l),o=0,a=l.length;o<a;++o)l[o].e=i=!i;for(var u,h,c=s[0];;){for(var p=c,d=!0;p.v;)if((p=p.n)===c)return;u=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(o=0,a=u.length;o<a;++o)r.point((h=u[o])[0],h[1]);else n(p.x,p.n.x,1,r);p=p.n}else{if(d)for(o=(u=p.p.z).length-1;o>=0;--o)r.point((h=u[o])[0],h[1]);else n(p.x,p.p.x,-1,r);p=p.p}u=(p=p.o).z,d=!d}while(!p.v);r.lineEnd()}}};function _i(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}var Mi=vt();function Ci(t){return wt(t[0])<=Ct?t[0]:Rt(t[0])*((wt(t[0])+Ct)%Lt-Ct)}var Oi,ji,Li=function(t,e){var i=Ci(e),n=e[1],r=Ft(n),o=[Ft(i),-kt(i),0],a=0,s=0;Mi.reset(),1===r?n=Ot+_t:-1===r&&(n=-Ot-_t);for(var l=0,u=t.length;l<u;++l)if(c=(h=t[l]).length)for(var h,c,p=h[c-1],d=Ci(p),f=p[1]/2+jt,g=Ft(f),m=kt(f),y=0;y<c;++y,d=b,g=P,m=_,p=v){var v=h[y],b=Ci(v),x=v[1]/2+jt,P=Ft(x),_=kt(x),M=b-d,C=M>=0?1:-1,O=C*M,j=O>Ct,L=g*P;if(Mi.add(It(L*C*Ft(O),m*_+L*kt(O))),a+=j?M+C*Lt:M,j^d>=i^b>=i){var S=fe(pe(p),pe(v));ye(S);var T=fe(o,S);ye(T);var w=(j^M>=0?-1:1)*Wt(T[2]);(n>w||n===w&&(S[0]||S[1]))&&(s+=j^M>=0?1:-1)}}return(a<-_t||a<_t&&Mi<-_t)^1&s},Si=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};1===(Oi=Si).length&&(ji=Oi,Oi=function(t,e){return Si(ji(t),e)});var Ti=function(t,e,i){t=+t,e=+e,i=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+i;for(var n=-1,r=0|Math.max(0,Math.ceil((e-t)/i)),o=new Array(r);++n<r;)o[n]=t+n*i;return o};Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var wi=function(t){for(var e,i,n,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(i=new Array(a);--r>=0;)for(e=(n=t[r]).length;--e>=0;)i[--a]=n[e];return i},Vi=function(t,e,i,n){return function(r){var o,a,s,l=e(r),u=vi(),h=e(u),c=!1,p={point:d,lineStart:g,lineEnd:m,polygonStart:function(){p.point=y,p.lineStart=v,p.lineEnd=b,a=[],o=[]},polygonEnd:function(){p.point=d,p.lineStart=g,p.lineEnd=m,a=wi(a);var t=Li(o,n);a.length?(c||(r.polygonStart(),c=!0),Pi(a,ki,t,i,r)):t&&(c||(r.polygonStart(),c=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(e,i){t(e,i)&&r.point(e,i)}function f(t,e){l.point(t,e)}function g(){p.point=f,l.lineStart()}function m(){p.point=d,l.lineEnd()}function y(t,e){s.push([t,e]),h.point(t,e)}function v(){h.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),h.lineEnd();var t,e,i,n,l=h.clean(),p=u.result(),d=p.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((e=(i=p[0]).length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),t=0;t<e;++t)r.point((n=i[t])[0],n[1]);r.lineEnd()}}else d>1&&2&l&&p.push(p.pop().concat(p.shift())),a.push(p.filter(Ii))}return p}};function Ii(t){return t.length>1}function ki(t,e){return((t=t.x)[0]<0?t[1]-Ot-_t:Ot-t[1])-((e=e.x)[0]<0?e[1]-Ot-_t:Ot-e[1])}var Di=Vi((function(){return!0}),(function(t){var e,i=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ct:-Ct,l=wt(o-i);wt(l-Ct)<_t?(t.point(i,n=(n+a)/2>0?Ot:-Ot),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),e=0):r!==s&&l>=Ct&&(wt(i-r)<_t&&(i-=r*_t),wt(o-s)<_t&&(o-=s*_t),n=function(t,e,i,n){var r,o,a=Ft(t-i);return wt(a)>_t?Vt((Ft(e)*(o=kt(n))*Ft(i)-Ft(n)*(r=kt(e))*Ft(t))/(r*o*a)):(e+n)/2}(i,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),e=0),t.point(i=o,n=a),r=s},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}}),(function(t,e,i,n){var r;if(null==t)n.point(-Ct,r=i*Ot),n.point(0,r),n.point(Ct,r),n.point(Ct,0),n.point(Ct,-r),n.point(0,-r),n.point(-Ct,-r),n.point(-Ct,0),n.point(-Ct,r);else if(wt(t[0]-e[0])>_t){var o=t[0]<e[0]?Ct:-Ct;n.point(-o,r=i*o/2),n.point(0,r),n.point(o,r)}else n.point(e[0],e[1])}),[-Ct,-Ot]),Ei=function(t){var e=kt(t),i=6*Tt,n=e>0,r=wt(e)>_t;function o(t,i){return kt(t)*kt(i)>e}function a(t,i,n){var r=[1,0,0],o=fe(pe(t),pe(i)),a=de(o,o),s=o[0],l=a-s*s;if(!l)return!n&&t;var u=e*a/l,h=-e*s/l,c=fe(r,o),p=me(r,u);ge(p,me(o,h));var d=c,f=de(p,d),g=de(d,d),m=f*f-g*(de(p,p)-1);if(!(m<0)){var y=Gt(m),v=me(d,(-f-y)/g);if(ge(v,p),v=ce(v),!n)return v;var b,x=t[0],P=i[0],_=t[1],M=i[1];P<x&&(b=x,x=P,P=b);var C=P-x,O=wt(C-Ct)<_t;if(!O&&M<_&&(b=_,_=M,M=b),O||C<_t?O?_+M>0^v[1]<(wt(v[0]-x)<_t?_:M):_<=v[1]&&v[1]<=M:C>Ct^(x<=v[0]&&v[0]<=P)){var j=me(d,(-f+y)/g);return ge(j,p),[v,ce(j)]}}}function s(e,i){var r=n?t:Ct-t,o=0;return e<-r?o|=1:e>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}return Vi(o,(function(t){var e,i,l,u,h;return{lineStart:function(){u=l=!1,h=1},point:function(c,p){var d,f=[c,p],g=o(c,p),m=n?g?0:s(c,p):g?s(c+(c<0?Ct:-Ct),p):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(d=a(e,f))||bi(e,d)||bi(f,d))&&(f[0]+=_t,f[1]+=_t,g=o(f[0],f[1])),g!==l)h=0,g?(t.lineStart(),d=a(f,e),t.point(d[0],d[1])):(d=a(e,f),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(r&&e&&n^g){var y;m&i||!(y=a(f,e,!0))||(h=0,n?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||e&&bi(e,f)||t.point(f[0],f[1]),e=f,l=g,i=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return h|(u&&l)<<1}}}),(function(e,n,r,o){ii(o,t,i,r,e,n)}),n?[0,-t]:[-Ct,t-Ct])},Ni=function(t,e,i,n,r,o){var a,s=t[0],l=t[1],u=0,h=1,c=e[0]-s,p=e[1]-l;if(a=i-s,c||!(a>0)){if(a/=c,c<0){if(a<u)return;a<h&&(h=a)}else if(c>0){if(a>h)return;a>u&&(u=a)}if(a=r-s,c||!(a<0)){if(a/=c,c<0){if(a>h)return;a>u&&(u=a)}else if(c>0){if(a<u)return;a<h&&(h=a)}if(a=n-l,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>u&&(u=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<h&&(h=a)}return u>0&&(t[0]=s+u*c,t[1]=l+u*p),h<1&&(e[0]=s+h*c,e[1]=l+h*p),!0}}}}},Ai=1e9,Fi=-Ai;function Ri(t,e,i,n){function r(r,o){return t<=r&&r<=i&&e<=o&&o<=n}function o(r,o,s,u){var h=0,c=0;if(null==r||(h=a(r,s))!==(c=a(o,s))||l(r,o)<0^s>0)do{u.point(0===h||3===h?t:i,h>1?n:e)}while((h=(h+s+4)%4)!==c);else u.point(o[0],o[1])}function a(n,r){return wt(n[0]-t)<_t?r>0?0:3:wt(n[0]-i)<_t?r>0?2:1:wt(n[1]-e)<_t?r>0?1:0:r>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var i=a(t,1),n=a(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(a){var l,u,h,c,p,d,f,g,m,y,v,b=a,x=vi(),P={point:_,lineStart:function(){P.point=M,u&&u.push(h=[]),y=!0,m=!1,f=g=NaN},lineEnd:function(){l&&(M(c,p),d&&m&&x.rejoin(),l.push(x.result())),P.point=_,m&&b.lineEnd()},polygonStart:function(){b=x,l=[],u=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,i=0,r=u.length;i<r;++i)for(var o,a,s=u[i],l=1,h=s.length,c=s[0],p=c[0],d=c[1];l<h;++l)o=p,a=d,p=(c=s[l])[0],d=c[1],a<=n?d>n&&(p-o)*(n-a)>(d-a)*(t-o)&&++e:d<=n&&(p-o)*(n-a)<(d-a)*(t-o)&&--e;return e}(),i=v&&e,r=(l=wi(l)).length;(i||r)&&(a.polygonStart(),i&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&Pi(l,s,e,o,a),a.polygonEnd()),b=a,l=u=h=null}};function _(t,e){r(t,e)&&b.point(t,e)}function M(o,a){var s=r(o,a);if(u&&h.push([o,a]),y)c=o,p=a,d=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var l=[f=Math.max(Fi,Math.min(Ai,f)),g=Math.max(Fi,Math.min(Ai,g))],x=[o=Math.max(Fi,Math.min(Ai,o)),a=Math.max(Fi,Math.min(Ai,a))];Ni(l,x,t,e,i,n)?(m||(b.lineStart(),b.point(l[0],l[1])),b.point(x[0],x[1]),s||b.lineEnd(),v=!1):s&&(b.lineStart(),b.point(o,a),v=!1)}f=o,g=a,m=s}return P}}var Gi=function(t){return t},Bi=function(t){return{stream:zi(t)}};function zi(t){return function(e){var i=new Wi;for(var n in t)i[n]=t[n];return i.stream=e,i}}function Wi(){}Wi.prototype={constructor:Wi,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hi=1/0,Zi=Hi,Xi=-Hi,Yi=Xi,Ui={point:function(t,e){t<Hi&&(Hi=t),t>Xi&&(Xi=t),e<Zi&&(Zi=e),e>Yi&&(Yi=e)},lineStart:Zt,lineEnd:Zt,polygonStart:Zt,polygonEnd:Zt,result:function(){var t=[[Hi,Zi],[Xi,Yi]];return Xi=Yi=-(Zi=Hi=1/0),t}};function Ki(t,e,i){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=n&&t.clipExtent(null),ie(i,t.stream(Ui)),e(Ui.result()),null!=n&&t.clipExtent(n),t}function qi(t,e,i){return Ki(t,(function(i){var n=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(n/(i[1][0]-i[0][0]),r/(i[1][1]-i[0][1])),a=+e[0][0]+(n-o*(i[1][0]+i[0][0]))/2,s=+e[0][1]+(r-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([a,s])}),i)}function Ji(t,e,i){return qi(t,[[0,0],e],i)}function Qi(t,e,i){return Ki(t,(function(i){var n=+e,r=n/(i[1][0]-i[0][0]),o=(n-r*(i[1][0]+i[0][0]))/2,a=-r*i[0][1];t.scale(150*r).translate([o,a])}),i)}function $i(t,e,i){return Ki(t,(function(i){var n=+e,r=n/(i[1][1]-i[0][1]),o=-r*i[0][0],a=(n-r*(i[1][1]+i[0][1]))/2;t.scale(150*r).translate([o,a])}),i)}var tn=16,en=kt(30*Tt),nn=function(t,e){return+e?function(t,e){function i(n,r,o,a,s,l,u,h,c,p,d,f,g,m){var y=u-n,v=h-r,b=y*y+v*v;if(b>4*e&&g--){var x=a+p,P=s+d,_=l+f,M=Gt(x*x+P*P+_*_),C=Wt(_/=M),O=wt(wt(_)-1)<_t||wt(o-c)<_t?(o+c)/2:It(P,x),j=t(O,C),L=j[0],S=j[1],T=L-n,w=S-r,V=v*T-y*w;(V*V/b>e||wt((y*T+v*w)/b-.5)>.3||a*p+s*d+l*f<en)&&(i(n,r,o,a,s,l,L,S,O,x/=M,P/=M,_,g,m),m.point(L,S),i(L,S,O,x,P,_,u,h,c,p,d,f,g,m))}}return function(e){var n,r,o,a,s,l,u,h,c,p,d,f,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(i,n){i=t(i,n),e.point(i[0],i[1])}function y(){h=NaN,g.point=v,e.lineStart()}function v(n,r){var o=pe([n,r]),a=t(n,r);i(h,c,u,p,d,f,h=a[0],c=a[1],u=n,p=o[0],d=o[1],f=o[2],tn,e),e.point(h,c)}function b(){g.point=m,e.lineEnd()}function x(){y(),g.point=P,g.lineEnd=_}function P(t,e){v(n=t,e),r=h,o=c,a=p,s=d,l=f,g.point=v}function _(){i(h,c,u,p,d,f,r,o,n,a,s,l,tn,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return zi({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}(t)},rn=zi({point:function(t,e){this.stream.point(t*Tt,e*Tt)}});function on(t,e,i){function n(n,r){return[e+t*n,i-t*r]}return n.invert=function(n,r){return[(n-e)/t,(i-r)/t]},n}function an(t,e,i,n){var r=kt(n),o=Ft(n),a=r*t,s=o*t,l=r/t,u=o/t,h=(o*i-r*e)/t,c=(o*e+r*i)/t;function p(t,n){return[a*t-s*n+e,i-s*t-a*n]}return p.invert=function(t,e){return[l*t-u*e+h,c-u*t-l*e]},p}function sn(t){return ln((function(){return t}))()}function ln(t){var e,i,n,r,o,a,s,l,u,h,c=150,p=480,d=250,f=0,g=0,m=0,y=0,v=0,b=0,x=null,P=Di,_=null,M=Gi,C=.5;function O(t){return l(t[0]*Tt,t[1]*Tt)}function j(t){return(t=l.invert(t[0],t[1]))&&[t[0]*St,t[1]*St]}function L(){var t=an(c,0,0,b).apply(null,e(f,g)),n=(b?an:on)(c,p-t[0],d-t[1],b);return i=Je(m,y,v),s=Ke(e,n),l=Ke(i,s),a=nn(s,C),S()}function S(){return u=h=null,O}return O.stream=function(t){return u&&h===t?u:u=rn(function(t){return zi({point:function(e,i){var n=t(e,i);return this.stream.point(n[0],n[1])}})}(i)(P(a(M(h=t)))))},O.preclip=function(t){return arguments.length?(P=t,x=void 0,S()):P},O.postclip=function(t){return arguments.length?(M=t,_=n=r=o=null,S()):M},O.clipAngle=function(t){return arguments.length?(P=+t?Ei(x=t*Tt):(x=null,Di),S()):x*St},O.clipExtent=function(t){return arguments.length?(M=null==t?(_=n=r=o=null,Gi):Ri(_=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),S()):null==_?null:[[_,n],[r,o]]},O.scale=function(t){return arguments.length?(c=+t,L()):c},O.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],L()):[p,d]},O.center=function(t){return arguments.length?(f=t[0]%360*Tt,g=t[1]%360*Tt,L()):[f*St,g*St]},O.rotate=function(t){return arguments.length?(m=t[0]%360*Tt,y=t[1]%360*Tt,v=t.length>2?t[2]%360*Tt:0,L()):[m*St,y*St,v*St]},O.angle=function(t){return arguments.length?(b=t%360*Tt,L()):b*St},O.precision=function(t){return arguments.length?(a=nn(s,C=t*t),S()):Gt(C)},O.fitExtent=function(t,e){return qi(O,t,e)},O.fitSize=function(t,e){return Ji(O,t,e)},O.fitWidth=function(t,e){return Qi(O,t,e)},O.fitHeight=function(t,e){return $i(O,t,e)},function(){return e=t.apply(this,arguments),O.invert=e.invert&&j,L()}}function un(t,e){return[t,e]}un.invert=un;var hn,cn,pn,dn,fn=function(){return sn(un).scale(152.63)},gn=vt(),mn=vt(),yn={point:Zt,lineStart:Zt,lineEnd:Zt,polygonStart:function(){yn.lineStart=vn,yn.lineEnd=Pn},polygonEnd:function(){yn.lineStart=yn.lineEnd=yn.point=Zt,gn.add(wt(mn)),mn.reset()},result:function(){var t=gn/2;return gn.reset(),t}};function vn(){yn.point=bn}function bn(t,e){yn.point=xn,hn=pn=t,cn=dn=e}function xn(t,e){mn.add(dn*t-pn*e),pn=t,dn=e}function Pn(){xn(hn,cn)}var _n,Mn,Cn,On,jn=yn,Ln=0,Sn=0,Tn=0,wn=0,Vn=0,In=0,kn=0,Dn=0,En=0,Nn={point:An,lineStart:Fn,lineEnd:Bn,polygonStart:function(){Nn.lineStart=zn,Nn.lineEnd=Wn},polygonEnd:function(){Nn.point=An,Nn.lineStart=Fn,Nn.lineEnd=Bn},result:function(){var t=En?[kn/En,Dn/En]:In?[wn/In,Vn/In]:Tn?[Ln/Tn,Sn/Tn]:[NaN,NaN];return Ln=Sn=Tn=wn=Vn=In=kn=Dn=En=0,t}};function An(t,e){Ln+=t,Sn+=e,++Tn}function Fn(){Nn.point=Rn}function Rn(t,e){Nn.point=Gn,An(Cn=t,On=e)}function Gn(t,e){var i=t-Cn,n=e-On,r=Gt(i*i+n*n);wn+=r*(Cn+t)/2,Vn+=r*(On+e)/2,In+=r,An(Cn=t,On=e)}function Bn(){Nn.point=An}function zn(){Nn.point=Hn}function Wn(){Zn(_n,Mn)}function Hn(t,e){Nn.point=Zn,An(_n=Cn=t,Mn=On=e)}function Zn(t,e){var i=t-Cn,n=e-On,r=Gt(i*i+n*n);wn+=r*(Cn+t)/2,Vn+=r*(On+e)/2,In+=r,kn+=(r=On*t-Cn*e)*(Cn+t),Dn+=r*(On+e),En+=3*r,An(Cn=t,On=e)}var Xn=Nn;function Yn(t){this._context=t}Yn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Lt)}},result:Zt};var Un,Kn,qn,Jn,Qn,$n=vt(),tr={point:Zt,lineStart:function(){tr.point=er},lineEnd:function(){Un&&ir(Kn,qn),tr.point=Zt},polygonStart:function(){Un=!0},polygonEnd:function(){Un=null},result:function(){var t=+$n;return $n.reset(),t}};function er(t,e){tr.point=ir,Kn=Jn=t,qn=Qn=e}function ir(t,e){$n.add(Gt((Jn-=t)*Jn+(Qn-=e)*Qn)),Jn=t,Qn=e}var nr=tr;function rr(){this._string=[]}function or(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}rr.prototype={_radius:4.5,_circle:or(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=or(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var ar,sr,lr,ur=function(t,e){var i,n,r=4.5;function o(t){return t&&("function"==typeof r&&n.pointRadius(+r.apply(this,arguments)),ie(t,i(n))),n.result()}return o.area=function(t){return ie(t,i(jn)),jn.result()},o.measure=function(t){return ie(t,i(nr)),nr.result()},o.bounds=function(t){return ie(t,i(Ui)),Ui.result()},o.centroid=function(t){return ie(t,i(Xn)),Xn.result()},o.projection=function(e){return arguments.length?(i=null==e?(t=null,Gi):(t=e).stream,o):t},o.context=function(t){return arguments.length?(n=null==t?(e=null,new rr):new Yn(e=t),"function"!=typeof r&&n.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(n.pointRadius(+t),+t),o):r},o.projection(t).context(e)},hr=function(t,e){var i=t[0]*Tt,n=t[1]*Tt,r=e[0]*Tt,o=e[1]*Tt,a=kt(n),s=Ft(n),l=kt(o),u=Ft(o),h=a*kt(i),c=a*Ft(i),p=l*kt(r),d=l*Ft(r),f=2*Wt(Gt(Ht(o-n)+a*l*Ht(r-i))),g=Ft(f),m=f?function(t){var e=Ft(t*=f)/g,i=Ft(f-t)/g,n=i*h+e*p,r=i*c+e*d,o=i*s+e*u;return[It(r,n)*St,It(o,Gt(n*n+r*r))*St]}:function(){return[i*St,n*St]};return m.distance=f,m},cr=vt(),pr={sphere:Zt,point:Zt,lineStart:function(){pr.point=fr,pr.lineEnd=dr},lineEnd:Zt,polygonStart:Zt,polygonEnd:Zt};function dr(){pr.point=pr.lineEnd=Zt}function fr(t,e){ar=t*=Tt,sr=Ft(e*=Tt),lr=kt(e),pr.point=gr}function gr(t,e){t*=Tt;var i=Ft(e*=Tt),n=kt(e),r=wt(t-ar),o=kt(r),a=n*Ft(r),s=lr*i-sr*n*o,l=sr*i+lr*n*o;cr.add(It(Gt(a*a+s*s),l)),ar=t,sr=i,lr=n}var mr=function(t){return cr.reset(),ie(t,pr),+cr},yr=[null,null],vr={type:"LineString",coordinates:yr},br=function(t,e){return yr[0]=t,yr[1]=e,mr(vr)},xr=function(){function t(){this.d3Projection=fn()}return Object.defineProperty(t.prototype,"d3Projection",{get:function(){return this._d3Projection},set:function(t){this._d3Projection=t,t.precision(.1),this._d3Path=ur().projection(t),this.chart&&this.chart.invalidateProjection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d3Path",{get:function(){return this._d3Path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.d3Projection.scale()/100},enumerable:!0,configurable:!0}),t.prototype.convert=function(t){var e=this.d3Projection([t.longitude,t.latitude]);if(e)return{x:e[0],y:e[1]}},t.prototype.invert=function(t){var e=this.d3Projection.invert([t.x,t.y]);if(e)return{longitude:e[0],latitude:e[1]}},t.prototype.project=function(t,e){return this.convert({longitude:t*x.DEGREES,latitude:e*x.DEGREES})},t.prototype.unproject=function(t,e){return this.invert({x:t,y:e})},t.prototype.rotate=function(t,e,i,n){var r=i*x.RADIANS;n*=x.RADIANS;var o=t.longitude*x.RADIANS+e*x.RADIANS,a=t.latitude*x.RADIANS,s=Math.cos(r),l=Math.sin(r),u=Math.cos(n),h=Math.sin(n),c=Math.cos(a),p=Math.cos(o)*c,d=Math.sin(o)*c,f=Math.sin(a),g=f*s+p*l;return{longitude:x.DEGREES*Math.atan2(d*u-g*h,p*s-f*l),latitude:x.DEGREES*Math.asin(g*u+d*h)}},t.prototype.unrotate=function(t,e,i,n){var r=i*x.RADIANS;n*=x.RADIANS;var o=t.longitude*x.RADIANS-e*x.RADIANS,a=t.latitude*x.RADIANS,s=Math.cos(r),l=Math.sin(r),u=Math.cos(n),h=Math.sin(n),c=Math.cos(a),p=Math.cos(o)*c,d=Math.sin(o)*c,f=Math.sin(a),g=f*u-d*h;return{longitude:x.DEGREES*Math.atan2(d*u+f*h,p*s+g*l),latitude:x.DEGREES*Math.asin(g*s-p*l)}},t.prototype.intermediatePoint=function(t,e,i){var n=hr([t.longitude,t.latitude],[e.longitude,e.latitude])(i);return{longitude:n[0],latitude:n[1]}},t.prototype.multiDistance=function(t){for(var e=0,i=0;i<t.length;i++){var n=t[i];if(n.length>1)for(var r=1;r<n.length;r++)e+=this.distance(n[r-1],n[r])}return e},t.prototype.distance=function(t,e){return br([t.longitude,t.latitude],[e.longitude,e.latitude])},t.prototype.positionToPoint=function(t,e){if(t){var i=this.positionToGeoPoint(t,e),n=this.positionToGeoPoint(t,e-.01),r=this.positionToGeoPoint(t,e+.01);if(n&&r){var o=this.convert(i),a=this.convert(n),s=this.convert(r);return{x:o.x,y:o.y,angle:x.getAngle(a,s)}}}return{x:0,y:0,angle:0}},t.prototype.positionToGeoPoint=function(t,e){if(t){for(var i=this.multiDistance(t),n=0,r=0,o=0,a=void 0,s=void 0,l=0;l<t.length;l++){var u=t[l];if(u.length>1){for(var h=1;h<u.length;h++)if(r=n/i,o=(n+=this.distance(a=u[h-1],s=u[h]))/i,r<=e&&o>e){l=t.length;break}}else 1==u.length&&(a=u[0],s=u[0],r=0,o=1)}if(a&&s)return this.intermediatePoint(a,s,(e-r)/(o-r))}return{longitude:0,latitude:0}},t}();f.c.registeredClasses.Projection=xr;var Pr=i("8MWo"),_r=i("2zdI"),Mr=function(t){function e(){var e=t.call(this)||this;e._chart=new _.d,e.className="SmallMap",e.align="left",e.valign="bottom",e.percentHeight=20,e.percentWidth=20,e.margin(5,5,5,5);var i=new y.a;e.background.fillOpacity=.9,e.background.fill=i.getFor("background"),e.events.on("hit",e.moveToPosition,e,!1),e.events.on("maxsizechanged",e.updateMapSize,e,!1),e.seriesContainer=e.createChild(c.a),e.seriesContainer.shouldClone=!1;var n=e.createChild(_r.a);return n.shouldClone=!1,n.stroke=i.getFor("alternativeBackground"),n.strokeWidth=1,n.strokeOpacity=.5,n.fill=Object(w.c)(),n.verticalCenter="middle",n.horizontalCenter="middle",n.isMeasured=!1,n.visible=!1,e.rectangle=n,e._disposers.push(e._chart),e.applyTheme(),e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new u.b,this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1)),this._series},enumerable:!0,configurable:!0}),e.prototype.handleSeriesAdded=function(t){var e=t.newValue;if(this.chart.series.contains(e)){var i=e.clone();this._series.removeValue(e),this._series.push(i),e=i,this.chart.dataUsers.push(i)}e.chart=this.chart,e.parent=this.seriesContainer,e.interactionsEnabled=!1,e.events.on("inited",this.updateMapSize,this,!1),e.hidden=!1},e.prototype.handleSeriesRemoved=function(t){this.invalidate()},e.prototype.moveToPosition=function(t){var e=v.spritePointToSprite(t.spritePoint,this,this.seriesContainer),i=this.chart.seriesPointToGeo(e);this.chart.zoomToGeoPoint(i,this.chart.zoomLevel,!0)},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this.chart!=t&&this._chart.set(t,new _.c([t.events.on("mappositionchanged",this.updateRectangle,this,!1),t.events.on("scaleratiochanged",this.updateMapSize,this,!1)]))},enumerable:!0,configurable:!0}),e.prototype.updateRectangle=function(){var t=this.chart,e=t.zoomLevel,i=this.rectangle;i.width=this.pixelWidth/e,i.height=this.pixelHeight/e;var n=Math.min(this.percentWidth,this.percentHeight)/100,r=t.seriesContainer;i.x=Math.ceil(-r.pixelX*n/e)+this.seriesContainer.pixelX,i.y=Math.ceil(-r.pixelY*n/e)+this.seriesContainer.pixelY,i.validate()},e.prototype.updateMapSize=function(){if(this.chart){var t=this.chart.scaleRatio*Math.min(this.percentWidth,this.percentHeight)/100;this.seriesContainer.scale=t;var e={width:0,height:0,x:0,y:0};try{e=this.seriesContainer.group.node.getBBox()}catch(i){}e.width>0&&(this.rectangle.visible=!0),this.seriesContainer.x=this.pixelWidth/2-e.x*t-e.width/2*t,this.seriesContainer.y=this.pixelHeight/2-e.y*t-e.height/2*t,this.updateRectangle(),this.afterDraw()}},e.prototype.afterDraw=function(){t.prototype.afterDraw.call(this),this.rectangle.maskRectangle={x:-1,y:-1,width:Math.ceil(this.pixelWidth+2),height:Math.ceil(this.pixelHeight+2)}},e.prototype.processConfig=function(e){if(e&&b.hasValue(e.series)&&b.isArray(e.series))for(var i=0,n=e.series.length;i<n;i++){var r=e.series[i];b.hasValue(r)&&b.isString(r)&&this.map.hasKey(r)&&(e.series[i]=this.map.getKey(r))}t.prototype.processConfig.call(this,e)},e}(c.a);function Cr(t){var e=jr(t.longitude),i=Math.asin(Math.sin(t.latitude*x.RADIANS))*x.DEGREES,n=jr(t.latitude);return Math.abs(n)>90&&(e=jr(e+180)),t.longitude=e,t.latitude=i,t}function Or(t){return F.each(t,(function(t){F.each(t,(function(t){Cr(t)}))})),t}function jr(t){return(t%=360)>180&&(t-=360),t<-180&&(t+=360),t}function Lr(t){return{x:t.longitude,y:t.latitude}}f.c.registeredClasses.SmallMap=Mr;var Sr=function(t){function e(){var e=t.call(this)||this;return e.adjustRotation=!0,e.className="MapLineObject",e.isMeasured=!1,e.layout="none",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.validatePosition=function(){var e=this.mapLine;if(e){var i=e.positionToPoint(this.position);if(this.x=i.x,this.y=i.y,this.adjustRotation&&(this.rotation=i.angle),this.mapLine.dataItem&&(this.scale=1/this.mapLine.dataItem.component.scale),e.shortestDistance){var n=this.mapLine.series.chart.projection,r=n.positionToGeoPoint(e.multiGeoLine,this.position),o=n.d3Path({type:"Point",coordinates:[r.longitude,r.latitude]});this.__disabled=!o}}t.prototype.validatePosition.call(this)},Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){this.setPropertyValue("position",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adjustRotation",{get:function(){return this.getPropertyValue("adjustRotation")},set:function(t){this.setPropertyValue("adjustRotation",t,!1,!0)},enumerable:!0,configurable:!0}),e}(c.a);f.c.registeredClasses.MapLineObject=Sr;var Tr=function(t){function e(){var e=t.call(this)||this;return e.className="MapImageSeriesDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.getFeature=function(){return{type:"Feature",geometry:{type:"Point",coordinates:this.point}}},Object.defineProperty(e.prototype,"mapImage",{get:function(){var t=this;if(!this._mapImage){var e=this.component.mapImages.create();this.addSprite(e),this._mapImage=e,this._disposers.push(e),this._disposers.push(new _.b((function(){t.component&&t.component.mapImages.removeValue(e)}))),this.mapObject=e}return this._mapImage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"point",{get:function(){return this._point},set:function(t){this._point=t,this._geoPoint=ui(t),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoPoint",{get:function(){return this._geoPoint},set:function(t){this._geoPoint=t,this.point=[t.longitude,t.latitude]},enumerable:!0,configurable:!0}),e}(Be),wr=function(t){function e(){var e=t.call(this)||this;return e.className="MapImageSeries",e.dataFields.multiPoint="multiPoint",e.dataFields.point="point",e.dataFields.geoPoint="geoPoint",e.dataFields.multiGeoPoint="multiGeoPoint",e.ignoreBounds=!0,e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createDataItem=function(){return new Tr},e.prototype.validateData=function(){var e=this;if(this.data.length>0&&0==this._parseDataFrom&&this.mapImages.clear(),this.useGeodata&&(this.useGeodata||this.geodata)){var i=this.chart.geodata,n=void 0;if("FeatureCollection"==i.type?n=i.features:"Feature"==i.type?n=[i]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(i.type)?n=[{geometry:i}]:console.log("nothing found in geoJSON"),n)for(var r=function(t,e){var i=n[t],r=i.geometry;if(r){var a=r.type,s=i.id;if("Point"==a||"MultiPoint"==a){if(!o.checkInclude(o.include,o.exclude,s))return"continue";var l=r.coordinates;"Point"==a&&(l=[l]);var u=F.find(o.data,(function(t,e){return t.id==s}));u?u.multiPoint||(u.multiPoint=l):o.data.push(u={multiPoint:l,id:s,madeFromGeoData:!0}),v.softCopyProperties(i.properties,u)}}},o=this,a=0,s=n.length;a<s;a++)r(a)}t.prototype.validateData.call(this),N.each(this.dataItems.iterator(),(function(t){var i=t.mapImage;i.isDisposed()||(e.mapImages.moveValue(i),b.isNumber(i.latitude)&&b.isNumber(i.latitude)&&(t.geoPoint={latitude:i.latitude,longitude:i.longitude}))}))},Object.defineProperty(e.prototype,"mapImages",{get:function(){if(!this._mapImages){var t=new He,e=new u.e(t);this._disposers.push(new u.c(e)),this._disposers.push(e.template),e.template.focusable=!0,e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapImages=e,this._mapObjects=e}return this._mapImages},enumerable:!0,configurable:!0}),e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e),e.mapImage.invalidate()},e.prototype.validate=function(){t.prototype.validate.call(this),N.each(this.mapImages.iterator(),(function(t){t.validatePosition()}))},e.prototype.copyFrom=function(e){this.mapImages.template.copyFrom(e.mapImages.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapImages.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var n=i.getFeature();n&&e.push(n)}})),e},e.prototype.getImageById=function(t){return N.find(this.mapImages.iterator(),(function(e){if(e.id==t||e.dataItem.dataContext.id==t)return!0}))},e}(ze);f.c.registeredClasses.MapImageSeries=wr,f.c.registeredClasses.MapImageSeriesDataItem=Tr;var Vr=i("P1hn"),Ir=i("bhfn"),kr=function(t){function e(){var e=t.call(this)||this;e._imageListeners={},e.className="MapLine",e.createLine(),e.line.stroke=Object(w.c)(),e.line.parent=e,e.strokeOpacity=1;var i=new y.a;return e.stroke=i.getFor("grid"),e.shortestDistance=!0,e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createLine=function(){this.line=new Ir.a},e.prototype.positionToPoint=function(t){return this.shortestDistance?this.series.chart.projection.positionToPoint(this.multiGeoLine,t):this.line?this.line.positionToPoint(t):{x:0,y:0,angle:0}},Object.defineProperty(e.prototype,"multiGeoLine",{get:function(){var t=this.getPropertyValue("multiGeoLine");return!t&&this.dataItem&&this.dataItem.multiGeoLine&&(t=this.dataItem.multiGeoLine),t},set:function(t){if(t&&t.length>0){this.setPropertyValue("multiGeoLine",Or(t),!0);var e=ci(t);this.setPropertyValue("multiLine",e),this.updateExtremes()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){var t=this.getPropertyValue("multiLine");return!t&&this.dataItem&&this.dataItem.multiLine&&(t=this.dataItem.multiLine),t},set:function(t){this.setPropertyValue("multiLine",t),this.multiGeoLine=ai(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagesToConnect",{get:function(){return this.getPropertyValue("imagesToConnect")},set:function(t){var e=this;if(this.setPropertyValue("imagesToConnect",t,!0),this.handleImagesToConnect(),this.series){var i=this.series.chart;i&&i.series.each((function(t){t instanceof wr&&(t.isReady()||e._disposers.push(t.events.on("ready",e.handleImagesToConnect,e,!1)))}))}},enumerable:!0,configurable:!0}),e.prototype.handleImagesToConnect=function(){var t,e,i=this;if(this.imagesToConnect){var n=[],r=[n],o=function(t){if(b.isString(t)){var e=s.series.chart;e&&e.series.each((function(e){if(e instanceof wr){var i=e.getImageById(t);i&&(t=i)}}))}if(t instanceof He&&(n.push({longitude:t.longitude,latitude:t.latitude}),!s._imageListeners[t.uid])){var r=t.events.on("propertychanged",(function(t){"longitude"!=t.property&&"latitude"!=t.property||(i.handleImagesToConnect(),i.invalidate())}),s,!1);s._imageListeners[t.uid]=r,s._disposers.push(r)}},s=this;try{for(var l=Object(a.__values)(this.imagesToConnect),u=l.next();!u.done;u=l.next())o(u.value)}catch(h){t={error:h}}finally{try{u&&!u.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}this.multiGeoLine=r}},e.prototype.validate=function(){var e=this.series.chart;if(this.multiLine){if(this.shortestDistance)e.projection.d3Projection.precision(.1),this.line.path=e.projection.d3Path(this.getFeature());else{for(var i=[],n=0,r=this.multiLine.length;n<r;n++){for(var o=this.multiLine[n],a=[],s=0,l=o.length;s<l;s++){var u=o[s],h=this.series.chart.projection.convert({longitude:u[0],latitude:u[1]});a.push(h)}i.push(a)}this.line.segments=i}this._arrow&&this._arrow.validatePosition(),N.each(this.lineObjects.iterator(),(function(t){t.validatePosition()})),this.handleGlobalScale()}else this.imagesToConnect&&this.handleImagesToConnect();t.prototype.validate.call(this)},e.prototype.getFeature=function(){if(this.multiLine&&this.multiLine.length>0&&this.multiLine[0]&&this.multiLine[0].length>0)return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.multiLine}}},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return this.getPropertyValue("shortestDistance")},set:function(t){this.setPropertyValue("shortestDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineObjects",{get:function(){return this._lineObjects||(this._lineObjects=new u.e(new Sr),this._lineObjects.events.on("inserted",this.handleLineObjectAdded,this,!1),this._disposers.push(new u.c(this._lineObjects)),this._disposers.push(this._lineObjects.template)),this._lineObjects},enumerable:!0,configurable:!0}),e.prototype.handleLineObjectAdded=function(t){var e=t.newValue;e.mapLine=this,e.shouldClone=!1,e.parent=this},Object.defineProperty(e.prototype,"arrow",{get:function(){if(!this._arrow){var t=this.createChild(Sr);t.shouldClone=!1,t.width=8,t.height=10,t.mapLine=this,t.position=.5;var e=t.createChild(Vr.a);e.fillOpacity=1,e.width=Object(m.c)(100),e.height=Object(m.c)(100),e.rotation=90,e.horizontalCenter="middle",e.verticalCenter="middle",this._arrow=t}return this._arrow},set:function(t){this._arrow=t,t.mapLine=this,t.parent=this},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.line.copyFrom(e.line),this.lineObjects.copyFrom(e.lineObjects),e._arrow&&(this.arrow=e.arrow.clone())},Object.defineProperty(e.prototype,"latitude",{get:function(){return this.north+(this.south-this.north)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.east+(this.west-this.east)/2},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){var t=this.getPropertyValue("tooltipX");return t instanceof m.a||(t=Object(m.c)(50)),t instanceof m.a?this.positionToPoint(t.value).x:0},e.prototype.getTooltipY=function(){var t=this.getPropertyValue("tooltipY");return t instanceof m.a||(t=Object(m.c)(50)),t instanceof m.a?this.positionToPoint(t.value).y:0},e}(We);f.c.registeredClasses.MapLine=kr;var Dr=function(t){function e(){var e=t.call(this)||this;return e.className="MapLineSeriesDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.getFeature=function(){if(this.multiLine&&this.multiLine.length>0)return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.multiLine}}},Object.defineProperty(e.prototype,"mapLine",{get:function(){var t=this;if(!this._mapLine){var e=this.component.mapLines.create();this._mapLine=e,this.addSprite(e),this._disposers.push(e),this._disposers.push(new _.b((function(){t.component&&t.component.mapLines.removeValue(e)}))),this.mapObject=e}return this._mapLine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._line},set:function(t){this._line=t,this.multiLine=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){return this._multiLine},set:function(t){this._multiLine=t,this._multiGeoLine=ai(t),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoLine",{get:function(){return this._geoLine},set:function(t){this._geoLine=t,this.multiLine=ci([t])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiGeoLine",{get:function(){return this._multiGeoLine},set:function(t){this._multiGeoLine=t,this.multiLine=ci(t)},enumerable:!0,configurable:!0}),e}(Be),Er=function(t){function e(){var e=t.call(this)||this;return e.className="MapLineSeries",e.dataFields.multiLine="multiLine",e.dataFields.line="line",e.dataFields.geoLine="geoLine",e.dataFields.multiGeoLine="multiGeoLine",e.ignoreBounds=!0,e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createDataItem=function(){return new Dr},e.prototype.validateData=function(){if(this.useGeodata||this.geodata){var e=this.chart.geodata;if(e){var i=void 0;if("FeatureCollection"==e.type?i=e.features:"Feature"==e.type?i=[e]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(e.type)?i=[{geometry:e}]:console.log("nothing found in geoJSON"),i)for(var n=function(t,e){var n=i[t],o=n.geometry;if(o){var a=o.type,s=n.id;if("LineString"==a||"MultiLineString"==a){if(!r.checkInclude(r.include,r.exclude,s))return"continue";var l=o.coordinates,u=F.find(r.data,(function(t,e){return t.id==s}));"LineString"==a&&(l=[l]),u?u.multiLine||(u.multiLine=l):r.data.push(u={multiLine:l,id:s,madeFromGeoData:!0}),v.softCopyProperties(n.properties,u)}}},r=this,o=0,a=i.length;o<a;o++)n(o)}}t.prototype.validateData.call(this)},Object.defineProperty(e.prototype,"mapLines",{get:function(){if(!this._mapLines){var t=this.createLine(),e=new u.e(t);this._disposers.push(new u.c(e)),this._disposers.push(e.template),e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapLines=e,this._mapObjects=e}return this._mapLines},enumerable:!0,configurable:!0}),e.prototype.createLine=function(){return new kr},e.prototype.validate=function(){this.dataItems.each((function(t){v.used(t.mapLine)})),t.prototype.validate.call(this),this.mapLines.each((function(t){t.validate()}))},e.prototype.copyFrom=function(e){this.mapLines.template.copyFrom(e.mapLines.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapLines.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var n=i.getFeature();n&&e.push(n)}})),e},e.prototype.getLineById=function(t){return N.find(this.mapLines.iterator(),(function(e){return e.dataItem.dataContext.id==t}))},e}(ze);f.c.registeredClasses.MapLineSeries=Er,f.c.registeredClasses.MapLineSeriesDataItem=Dr;var Nr=function(t){function e(){var e=t.call(this)||this;return e.className="Graticule",e.applyTheme(),e.shortestDistance=!0,e}return Object(a.__extends)(e,t),e}(kr);function Ar(t,e,i){var n=Ti(t,e-_t,i).concat(e);return function(t){return n.map((function(e){return[t,e]}))}}function Fr(t,e,i){var n=Ti(t,e-_t,i).concat(e);return function(t){return n.map((function(e){return[e,t]}))}}function Rr(){var t,e,i,n,r,o,a,s,l,u,h,c,p=10,d=p,f=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Ti(Dt(n/f)*f,i,f).map(h).concat(Ti(Dt(s/g)*g,a,g).map(c)).concat(Ti(Dt(e/p)*p,t,p).filter((function(t){return wt(t%f)>_t})).map(l)).concat(Ti(Dt(o/d)*d,r,d).filter((function(t){return wt(t%g)>_t})).map(u))}return y.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[h(n).concat(c(a).slice(1),h(i).reverse().slice(1),c(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(s=+t[0][1],a=+t[1][1],(n=+t[0][0])>(i=+t[1][0])&&(t=n,n=i,i=t),s>a&&(t=s,s=a,a=t),y.precision(m)):[[n,s],[i,a]]},y.extentMinor=function(i){return arguments.length?(o=+i[0][1],r=+i[1][1],(e=+i[0][0])>(t=+i[1][0])&&(i=e,e=t,t=i),o>r&&(i=o,o=r,r=i),y.precision(m)):[[e,o],[t,r]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(f=+t[0],g=+t[1],y):[f,g]},y.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(p){return arguments.length?(m=+p,l=Ar(o,r,90),u=Fr(e,t,m),h=Ar(s,a,90),c=Fr(n,i,m),y):m},y.extentMajor([[-180,-90+_t],[180,90-_t]]).extentMinor([[-180,-80-_t],[180,80+_t]])}function Gr(){return Rr()()}f.c.registeredClasses.Graticule=Nr;var Br=function(t){function e(){var e=t.call(this)||this;return e.className="GraticuleSeriesDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e}(Dr),zr=function(t){function e(){var e=t.call(this)||this;return e.className="GraticuleSeries",e.longitudeStep=10,e.latitudeStep=10,e.north=90,e.south=-90,e.east=-180,e.west=180,e.fitExtent=!0,e.singleSprite=!0,e.events.disableType("geoBoundsChanged"),e.mapLines.template.line.strokeOpacity=.08,e.ignoreBounds=!1,e.hiddenInLegend=!0,e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createDataItem=function(){return new Br},e.prototype.validateData=function(){var e=this;t.prototype.validateData.call(this),this.mapLines.clear();var i=Rr();if(i){i.stepMinor([this.longitudeStep,this.latitudeStep]),i.stepMajor([360,360]);var n=this.chart;if(i.extent(this.fitExtent?[[n.east,n.north],[n.west,n.south]]:[[this.east,this.north],[this.west,this.south]]),this.singleSprite)this.mapLines.create().multiLine=i().coordinates;else{var r=i.lines();F.each(r,(function(t){e.mapLines.create().multiLine=[t.coordinates]}))}}},e.prototype.createLine=function(){return new Nr},Object.defineProperty(e.prototype,"latitudeStep",{get:function(){return this.getPropertyValue("latitudeStep")},set:function(t){this.setPropertyValue("latitudeStep",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitudeStep",{get:function(){return this.getPropertyValue("longitudeStep")},set:function(t){this.setPropertyValue("longitudeStep",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitExtent",{get:function(){return this.getPropertyValue("fitExtent")},set:function(t){this.setPropertyValue("fitExtent",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singleSprite",{get:function(){return this.getPropertyValue("singleSprite")},set:function(t){this.setPropertyValue("singleSprite",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),e}(Er);f.c.registeredClasses.GraticuleSeries=zr,f.c.registeredClasses.GraticuleSeriesDataItem=Br;var Wr=function(t){function e(){var e=t.call(this)||this;return e.className="MapChartDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e}(mt),Hr=function(t){function e(){var e=t.call(this)||this;e.scaleRatio=1,e.zoomDuration=1e3,e.zoomEasing=pt.cubicOut,e.minZoomLevel=1,e.maxZoomLevel=32,e._prevZoomGeoPoint={latitude:0,longitude:0},e.className="MapChart",e.projection=new xr,e.deltaLongitude=0,e.deltaLatitude=0,e.deltaGamma=0,e.maxPanOut=.7,e.homeZoomLevel=1,e.zoomStep=2,e.layout="absolute",e.centerMapOnZoomOut=!0,e.padding(0,0,0,0),v.used(e.backgroundSeries),e.minWidth=10,e.minHeight=10,e.events.once("inited",e.handleAllInited,e,!1);var i=e.seriesContainer;i.visible=!1,i.inert=!0,i.resizable=!0,i.events.on("transformed",e.handleMapTransform,e,!1),i.events.on("doublehit",e.handleDoubleHit,e,!1),i.events.on("dragged",e.handleDrag,e,!1),i.zIndex=0,i.dragWhileResize=!0,e.events.on("maxsizechanged",(function(t){0!=t.previousWidth&&0!=t.previousHeight||(e.updateExtremes(),e.updateCenterGeoPoint())}),void 0,!1);var n=e.chartContainer;n.parent=e,n.zIndex=-1,e._disposers.push(e.events.on("maxsizechanged",(function(){if(e.inited){e._mapAnimation&&e._mapAnimation.stop();var t=!0;e.series.each((function(e){e.updateTooltipBounds(),e.inited&&!e.dataInvalid||(t=!1)})),t&&e.updateScaleRatio(),e.zoomToGeoPoint(e._zoomGeoPointReal,e.zoomLevel,!0,0)}}),void 0,!1));var r=n.background;r.fillOpacity=0,r.events.on("down",(function(t){e.seriesContainer.dragStart(t.target.interactions.downPointers.getIndex(0))}),e),r.events.on("up",(function(t){e.seriesContainer.dragStop()}),e),r.events.on("doublehit",e.handleDoubleHit,e),r.focusable=!0,n.events.on("down",e.handleMapDown,e,!1),e.background.fillOpacity=0,e.background.readerTitle=e.language.translate("Use plus and minus keys on your keyboard to zoom in and out"),e._disposers.push(Object(g.b)().body.events.on("keyup",(function(t){if(e.topParent.hasFocused&&(!e._zoomControl||!e._zoomControl.thumb.isFocused))switch(d.b.getEventKey(t.event)){case"up":e.pan({x:0,y:.1});break;case"down":e.pan({x:0,y:-.1});break;case"left":e.pan({x:.1,y:0});break;case"right":e.pan({x:-.1,y:0})}}),e)),e.mouseWheelBehavior="zoom";var o=Object(g.b)();e._disposers.push(o.body.events.on("down",e.handlePanDown,e)),e._disposers.push(o.body.events.on("up",e.handlePanUp,e));var a=e.seriesContainer.createChild(Pr.a);return a.radius=10,a.inert=!0,a.isMeasured=!1,a.events.on("transformed",e.handlePanMove,e,!1),a.interactionsEnabled=!1,a.opacity=0,a.x=0,a.y=0,e.panSprite=a,e.panBehavior="move",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.handlePanDown=function(t){var e=v.documentPointToSvg(t.pointer.point,this.htmlContainer);e.x>0&&e.y>0&&e.x<this.svgContainer.width&&e.y<this.svgContainer.height&&(this._downPointOrig=v.documentPointToSprite(t.pointer.point,this.seriesContainer),this.panSprite.moveTo(this._downPointOrig),this.panSprite.dragStart(t.pointer),this._downDeltaLongitude=this.deltaLongitude,this._downDeltaLatitude=this.deltaLatitude)},e.prototype.handlePanUp=function(t){this._downPointOrig&&this.panSprite.dragStop(t.pointer),this._downPointOrig=void 0},e.prototype.handlePanMove=function(){if(!this.seriesContainer.isResized){var t=this.projection.d3Projection,e=this.panBehavior;if("move"!=e&&"none"!=e&&this._downPointOrig&&t.rotate){var i=t.rotate(),n=i[0],r=i[1],o=i[2];t.rotate([0,0,0]);var a=this.projection.invert(this._downPointOrig),s={x:this.panSprite.pixelX,y:this.panSprite.pixelY},l=void 0;s&&(l=this.projection.invert(s)),t.rotate([n,r,o]),l&&("rotateLat"!=e&&"rotateLongLat"!=e||(this.deltaLatitude=this._downDeltaLatitude+l.latitude-a.latitude),"rotateLong"!=e&&"rotateLongLat"!=e||(this.deltaLongitude=this._downDeltaLongitude+l.longitude-a.longitude))}}},e.prototype.handleAllInited=function(){var t=this,e=!0;if(this.seriesContainer.visible=!0,this.series.each((function(t){t.inited&&!t.dataInvalid||(e=!1)})),e)this.updateCenterGeoPoint(),this.updateScaleRatio(),this.goHome(0);else{var i=f.c.events.once("exitframe",(function(){t.removeDispose(i),t.handleAllInited()}),this,!1);this.addDisposer(i)}},e.prototype.updateZoomGeoPoint=function(){var t=v.svgPointToSprite({x:this.innerWidth/2+this.pixelPaddingLeft,y:this.innerHeight/2+this.pixelPaddingTop},this.series.getIndex(0)),e=this.projection.invert(t);this._zoomGeoPointReal=e},e.prototype.updateCenterGeoPoint=function(){var t,e,i,n;if(this.backgroundSeries){var r=this.backgroundSeries.getFeatures();if(r.length>0){var o=this.projection.d3Path.bounds(r[0].geometry);t=o[0][0],i=o[0][1],e=o[1][0],n=o[1][1]}}else this.series.each((function(r){var o=r.group.node.getBBox();(t>o.x||!b.isNumber(t))&&(t=o.x),(e<o.x+o.width||!b.isNumber(e))&&(e=o.x+o.width),(i>o.y||!b.isNumber(i))&&(i=o.y),(n<o.y+o.height||!b.isNumber(n))&&(n=o.y+o.height)}));this.seriesMaxLeft=t,this.seriesMaxRight=e,this.seriesMaxTop=i,this.seriesMaxBottom=n,this.seriesWidth=e-t,this.seriesHeight=n-i,this.seriesWidth>0&&this.seriesHeight>0?(this.chartContainer.visible=!0,this._centerGeoPoint=this.projection.invert({x:t+(e-t)/2,y:i+(n-i)/2}),this._zoomGeoPointReal&&b.isNumber(this._zoomGeoPointReal.latitude)||(this._zoomGeoPointReal=this._centerGeoPoint)):this.chartContainer.visible=!1},e.prototype.handleDrag=function(){var t=this.zoomLevel*this.scaleRatio,e=this.seriesHeight*t,i=this.seriesContainer,n=this.seriesMaxLeft*t,r=this.seriesMaxRight*t,o=this.seriesMaxTop*t,a=this.seriesMaxBottom*t,s=i.pixelX,l=i.pixelY,u=this.maxPanOut,h=Math.min(this.maxWidth*(1-u)-this.seriesWidth*t-n,-n);s<h&&(s=h);var c=Math.max(this.maxWidth*u-n,this.maxWidth-r);s>c&&(s=c);var p=Math.min(this.maxHeight*(1-u)-e-o,-o);l<p&&(l=p);var d=Math.max(this.maxHeight*u-o,this.maxHeight-a);l>d&&(l=d),i.moveTo({x:s,y:l},void 0,void 0,!0),this._zoomGeoPointReal=this.zoomGeoPoint},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Map"))},e.prototype.handleMapDown=function(){this._mapAnimation&&this._mapAnimation.stop()},e.prototype.handleDoubleHit=function(t){var e=v.documentPointToSvg(t.point,this.htmlContainer,this.svgContainer.cssScale),i=this.svgPointToGeo(e);this.zoomIn(i)},e.prototype.handleWheel=function(t){var e=this.seriesContainer.interactions.inertias.getKey("move");e&&e.done();var i=v.documentPointToSvg(t.point,this.htmlContainer,this.svgContainer.cssScale),n=this.svgPointToGeo(i);t.shift.y<0?this.zoomIn(n,void 0,this.interactions.mouseOptions.sensitivity):this.zoomOut(n,void 0,this.interactions.mouseOptions.sensitivity)},Object.defineProperty(e.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(t){this.setPropertyValue("mouseWheelBehavior",t)&&("none"!=t?(this._mouseWheelDisposer=this.chartContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):(this._mouseWheelDisposer&&this._mouseWheelDisposer.dispose(),this.chartContainer.wheelable=!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panBehavior",{get:function(){return this.getPropertyValue("panBehavior")},set:function(t){if(this.setPropertyValue("panBehavior",t)){var e=this.seriesContainer;switch(this.panSprite.draggable=!1,e.draggable=!1,t){case"move":e.draggable=!0;break;default:this.panSprite.draggable=!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerMapOnZoomOut",{get:function(){return this.getPropertyValue("centerMapOnZoomOut")},set:function(t){this.setPropertyValue("centerMapOnZoomOut",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projection",{get:function(){return this.getPropertyValue("projection")},set:function(t){var e=this;this.setPropertyValue("projection",t)&&(this.invalidateProjection(),t.chart=this,this._backgroundSeries&&this._backgroundSeries.invalidate(),this.series.each((function(t){t.events.once("validated",(function(){e.updateCenterGeoPoint(),e.updateScaleRatio(),e.goHome(0)}))})))},enumerable:!0,configurable:!0}),e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.updateExtremes()},e.prototype.updateExtremes=function(){var t,e,i,n;this.series.each((function(r){r.ignoreBounds||r instanceof zr&&r.fitExtent||((r.north>e||!b.isNumber(e))&&(e=r.north),(r.south<n||!b.isNumber(n))&&(n=r.south),(r.west<i||!b.isNumber(i))&&(i=r.west),(r.east>t||!b.isNumber(t))&&(t=r.east))}));var r=[],o=!1;this.series.each((function(t){t instanceof zr&&!t.fitExtent&&(r=t.getFeatures(),o=!0)})),o||this.series.each((function(t){t.ignoreBounds||t instanceof zr&&t.fitExtent||(r=r.concat(t.getFeatures()))}));var a=x.max(50,this.innerWidth),s=x.max(50,this.innerHeight),l=this.projection.d3Projection;if(r.length>0&&l&&(this.east!=t||this.west!=i||this.north!=e||this.south!=n)){if(this.east=t,this.west=i,this.north=e,this.south=n,l.rotate){var u=l.rotate(),h=u[1],c=u[2];this.deltaLongitude=u[0],this.deltaLatitude=h,this.deltaGamma=c}var p={type:"FeatureCollection",features:r},d=l.scale();if(l.fitSize([a,s],p),l.scale()!=d&&this.invalidateDataUsers(),this.series.each((function(t){t instanceof zr&&t.invalidateData()})),this._backgroundSeries){var f=this._backgroundSeries.mapPolygons.getIndex(0);f&&(f.multiPolygon=fi(this.north,this.east,this.south,this.west))}this._fitWidth=a,this._fitHeight=s}this._zoomGeoPointReal&&b.isNumber(this._zoomGeoPointReal.latitude)||this.goHome(0)},e.prototype.updateScaleRatio=function(){var t;this.updateCenterGeoPoint(),t=x.min(this.innerWidth/this.seriesWidth,this.innerHeight/this.seriesHeight),(b.isNaN(t)||t==1/0)&&(t=1),t!=this.scaleRatio&&(this.scaleRatio=t,N.each(this.series.iterator(),(function(e){e.scale=t,e.updateTooltipBounds()})),this.backgroundSeries.scale=t,this.dispatch("scaleratiochanged"))},e.prototype.svgPointToGeo=function(t){var e=this.series.getIndex(0);if(e){var i=v.svgPointToSprite(t,e);return this.seriesPointToGeo(i)}},e.prototype.geoPointToSVG=function(t){var e=this.series.getIndex(0);if(e){var i=this.geoPointToSeries(t);return v.spritePointToSvg(i,e)}},e.prototype.seriesPointToGeo=function(t){return this.projection.invert(t)},e.prototype.geoPointToSeries=function(t){return this.projection.convert(t)},Object.defineProperty(e.prototype,"geodata",{get:function(){return this._geodata},set:function(t){t!=this._geodata&&(this._geodata=t,this.invalidateData(),this.dataUsers.each((function(t){for(var e=t.data.length-1;e>=0;e--)1==t.data[e].madeFromGeoData&&t.data.splice(e,1);t.disposeData(),t.invalidateData()})))},enumerable:!0,configurable:!0}),e.prototype.zoomToGeoPoint=function(t,e,i,n,r){var o=this;if(t||(t=this.zoomGeoPoint),t&&b.isNumber(t.longitude)&&b.isNumber(t.latitude)){this._zoomGeoPointReal=t,e=x.fitToRange(e,this.minZoomLevel,this.maxZoomLevel);var a=this.projection.convert(t);if(a){var s=this.geoPointToSVG(t),l=v.svgPointToSprite(s,this);i&&(l={x:this.innerWidth/2,y:this.innerHeight/2}),b.isNumber(n)||(n=this.zoomDuration);var u=l.x-a.x*e*this.scaleRatio,h=l.y-a.y*e*this.scaleRatio;return!r&&e<this.zoomLevel&&this.centerMapOnZoomOut&&e<1.5&&(u=this.innerWidth/2-(this.seriesMaxLeft+(this.seriesMaxRight-this.seriesMaxLeft)/2)*e*this.scaleRatio,h=this.innerHeight/2-(this.seriesMaxTop+(this.seriesMaxBottom-this.seriesMaxTop)/2)*e*this.scaleRatio),this._mapAnimation=this.seriesContainer.animate([{property:"scale",to:e},{property:"x",from:this.seriesContainer.pixelX,to:u},{property:"y",from:this.seriesContainer.pixelY,to:h}],n,this.zoomEasing),this._disposers.push(this._mapAnimation.events.on("animationended",(function(){o._zoomGeoPointReal=o.zoomGeoPoint}))),this.seriesContainer.validatePosition(),this._mapAnimation}}},e.prototype.zoomToMapObject=function(t,e,i,n){null==i&&(i=!0);var r=this.seriesContainer.interactions.inertias.getKey("move");if(r&&r.done(),t instanceof He)return b.isNaN(e)&&(e=5),this.zoomToGeoPoint({latitude:t.latitude,longitude:t.longitude},e,i,n,!0);var o=t.dataItem;if(o&&b.isNumber(o.zoomLevel)&&(e=o.zoomLevel),t instanceof gi){var a=t.dataItem,s=t.polygon.bbox;0!=s.width&&0!=s.height||(s=t.polygon.group.getBBox()),b.isNumber(e)||(e=Math.min(this.seriesWidth/s.width,this.seriesHeight/s.height));var l=void 0;if(a&&b.hasValue(a.zoomGeoPoint))l=a.zoomGeoPoint;else{var u=v.spritePointToSprite({x:s.x+s.width/2,y:s.y+s.height/2},t.polygon,t.series);l=this.seriesPointToGeo(u)}return this.zoomToGeoPoint(l,e,!0,n,!0)}},e.prototype.zoomToRectangle=function(t,e,i,n,r,o,a){b.isNaN(r)&&(r=1);var s=r*Math.min((this.south-this.north)/(i-t),(this.west-this.east)/(n-e));return this.zoomToGeoPoint({latitude:t+(i-t)/2,longitude:n+(e-n)/2},s,o,a,!0)},e.prototype.zoomIn=function(t,e,i){void 0===i&&(i=1);var n=1+(this.zoomStep-1)*i;return n<1&&(n=1),this.zoomToGeoPoint(t,this.zoomLevel*n,!1,e)},e.prototype.zoomOut=function(t,e,i){void 0===i&&(i=1);var n=1+(this.zoomStep-1)*i;return n<1&&(n=1),this.zoomToGeoPoint(t,this.zoomLevel/n,!1,e)},e.prototype.pan=function(t,e){var i=this.geoPointToSVG(this.zoomGeoPoint);i.x+=this.pixelWidth*t.x,i.y+=this.pixelHeight*t.y,this.zoomToGeoPoint(this.svgPointToGeo(i),this.zoomLevel,!0,e,!0)},Object.defineProperty(e.prototype,"zoomGeoPoint",{get:function(){var t=v.spritePointToSvg({x:this.pixelWidth/2,y:this.pixelHeight/2},this);return this.svgPointToGeo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this.seriesContainer.scale},set:function(t){this.seriesContainer.scale=t},enumerable:!0,configurable:!0}),e.prototype.handleMapTransform=function(){this.zoomLevel!=this._prevZoomLevel&&(this.dispatch("zoomlevelchanged"),this._prevZoomLevel=this.zoomLevel),!this.zoomGeoPoint||this._prevZoomGeoPoint.latitude==this.zoomGeoPoint.latitude&&this._prevZoomGeoPoint.longitude==this.zoomGeoPoint.longitude||this.dispatch("mappositionchanged")},Object.defineProperty(e.prototype,"smallMap",{get:function(){if(!this._smallMap){var t=new Mr;this.smallMap=t}return this._smallMap},set:function(t){this._smallMap&&this.removeDispose(this._smallMap),this._smallMap=t,this._smallMap.chart=this,t.parent=this.chartContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomControl",{get:function(){return this._zoomControl},set:function(t){this._zoomControl&&this.removeDispose(this._zoomControl),this._zoomControl=t,t.chart=this,t.parent=this.chartContainer,t.plusButton.exportable=!1,t.minusButton.exportable=!1},enumerable:!0,configurable:!0}),e.prototype.createSeries=function(){return new ze},Object.defineProperty(e.prototype,"deltaLongitude",{get:function(){return this.getPropertyValue("deltaLongitude")},set:function(t){this.setPropertyValue("deltaLongitude",jr(t))&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaLatitude",{get:function(){return this.getPropertyValue("deltaLatitude")},set:function(t){this.setPropertyValue("deltaLatitude",t)&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaGamma",{get:function(){return this.getPropertyValue("deltaGamma")},set:function(t){this.setPropertyValue("deltaGamma",t)&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),e.prototype.rotateMap=function(){this.projection.d3Projection&&this.projection.d3Projection.rotate&&(this.projection.d3Projection.rotate([this.deltaLongitude,this.deltaLatitude,this.deltaGamma]),this.invalidateProjection())},Object.defineProperty(e.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(t){this.setPropertyValue("maxPanOut",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"homeGeoPoint",{get:function(){return this.getPropertyValue("homeGeoPoint")},set:function(t){this.setPropertyValue("homeGeoPoint",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"homeZoomLevel",{get:function(){return this.getPropertyValue("homeZoomLevel")},set:function(t){this.setPropertyValue("homeZoomLevel",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomStep",{get:function(){return this.getPropertyValue("zoomStep")},set:function(t){this.setPropertyValue("zoomStep",t)},enumerable:!0,configurable:!0}),e.prototype.invalidateProjection=function(){this.invalidateDataUsers(),this.updateCenterGeoPoint()},Object.defineProperty(e.prototype,"geodataSource",{get:function(){return this._dataSources.geodata||this.getDataSource("geodata"),this._dataSources.geodata},set:function(t){var e=this;this._dataSources.geodata&&this.removeDispose(this._dataSources.geodata),this._dataSources.geodata=t,this._dataSources.geodata.component=this,this.events.on("inited",(function(){e.loadData("geodata")}),this,!1),this.setDataSourceEvents(t,"geodata")},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(b.hasValue(e.geodata)&&b.isString(e.geodata)){var i=e.geodata;if(b.hasValue(window["am4geodata_"+e.geodata]))e.geodata=window["am4geodata_"+e.geodata];else try{e.geodata=JSON.parse(e.geodata)}catch(n){throw Error("MapChart error: Geodata `"+i+"` is not loaded or is incorrect.")}}b.hasValue(e.projection)&&b.isString(e.projection)&&(e.projection=this.createClassInstance(e.projection)),b.hasValue(e.smallMap)&&!b.hasValue(e.smallMap.type)&&(e.smallMap.type="SmallMap"),b.hasValue(e.zoomControl)&&!b.hasValue(e.zoomControl.type)&&(e.zoomControl.type="ZoomControl"),t.prototype.processConfig.call(this,e)},e.prototype.handleSeriesAdded=function(e){t.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;i.scale=this.scaleRatio,i.events.on("validated",this.updateCenterGeoPoint,this,!1)},e.prototype.configOrder=function(e,i){return e==i?0:"smallMap"==e?1:"smallMap"==i?-1:"series"==e?1:"series"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.asIs=function(e){return"projection"==e||"geodata"==e||t.prototype.asIs.call(this,e)},Object.defineProperty(e.prototype,"centerGeoPoint",{get:function(){return this._centerGeoPoint},enumerable:!0,configurable:!0}),e.prototype.goHome=function(t){var e=this.homeGeoPoint;e||(e=this.centerGeoPoint),e&&this.zoomToGeoPoint(e,this.homeZoomLevel,!0,t,!0)},e.prototype.setPaper=function(e){return this.svgContainer&&(this.svgContainer.hideOverflow=!0),t.prototype.setPaper.call(this,e)},Object.defineProperty(e.prototype,"backgroundSeries",{get:function(){var t=this;if(!this._backgroundSeries){var e=new yi;e.parent=this.seriesContainer,e.chart=this,e.hiddenInLegend=!0,e.addDisposer(new _.b((function(){t._backgroundSeries=void 0}))),this._disposers.push(e);var i=(new y.a).getFor("background"),n=e.mapPolygons.template.polygon;n.stroke=i,n.fill=i,n.fillOpacity=0,n.strokeOpacity=0,e.mapPolygons.create(),this._backgroundSeries=e}return this._backgroundSeries},enumerable:!0,configurable:!0}),e.prototype.setLegend=function(e){t.prototype.setLegend.call(this,e),e.parent=this},e.prototype.setTapToActivate=function(e){t.prototype.setTapToActivate.call(this,e),this.seriesContainer.interactions.isTouchProtected=!0,this.panSprite.interactions.isTouchProtected=!0},e.prototype.handleTapToActivate=function(){t.prototype.handleTapToActivate.call(this),this.seriesContainer.interactions.isTouchProtected=!1,this.panSprite.interactions.isTouchProtected=!1},e.prototype.handleTapToActivateDeactivation=function(){t.prototype.handleTapToActivateDeactivation.call(this),this.seriesContainer.interactions.isTouchProtected=!0,this.panSprite.interactions.isTouchProtected=!0},e.prototype.asFunction=function(e){return"zoomEasing"==e||t.prototype.asIs.call(this,e)},e}(yt);f.c.registeredClasses.MapChart=Hr;var Zr=i("JecN"),Xr=function(t){function e(){var e=t.call(this)||this;return e.className="MapSpline",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createLine=function(){this.line=new Zr.a,this.line.tensionX=.8,this.line.tensionY=.8},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),e}(kr);f.c.registeredClasses.MapSpline=Xr;var Yr=i("tOm2"),Ur=function(t){function e(){var e=t.call(this)||this;return e.className="MapArc",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createLine=function(){this.line=new Yr.a},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),e}(kr);f.c.registeredClasses.MapArc=Ur;var Kr=function(t){function e(){var e=t.call(this)||this;return e.className="MapSplineSeriesDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e}(Dr),qr=function(t){function e(){var e=t.call(this)||this;return e.className="MapSplineSeries",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createDataItem=function(){return new Kr},e.prototype.createLine=function(){return new Xr},e}(Er);f.c.registeredClasses.MapSplineSeries=qr,f.c.registeredClasses.MapSplineSeriesDataItem=Kr;var Jr=function(t){function e(){var e=t.call(this)||this;return e.className="MapArcSeriesDataItem",e.applyTheme(),e}return Object(a.__extends)(e,t),e}(Dr),Qr=function(t){function e(){var e=t.call(this)||this;return e.className="MapArcSeries",e.applyTheme(),e}return Object(a.__extends)(e,t),e.prototype.createDataItem=function(){return new Jr},e.prototype.createLine=function(){return new Ur},e}(Er);f.c.registeredClasses.MapArcSeries=Qr,f.c.registeredClasses.MapArcSeriesDataItem=Jr;var $r=function(t){function e(){var e=t.call(this)||this;e._chart=new _.d,e.className="ZoomControl",e.align="right",e.valign="bottom",e.layout="vertical",e.padding(5,5,5,5);var i=new y.a,n=e.createChild(ot.a);n.shouldClone=!1,n.label.text="+",e.plusButton=n;var r=e.createChild(c.a);r.shouldClone=!1,r.background.fill=i.getFor("alternativeBackground"),r.background.fillOpacity=.05,r.background.events.on("hit",e.handleBackgroundClick,e,!1),r.events.on("sizechanged",e.updateThumbSize,e,!1),e.slider=r;var o=r.createChild(ot.a);o.shouldClone=!1,o.padding(0,0,0,0),o.draggable=!0,o.events.on("drag",e.handleThumbDrag,e,!1),e.thumb=o;var a=e.createChild(ot.a);return a.shouldClone=!1,a.label.text="-",e.minusButton=a,e.thumb.role="slider",e.thumb.readerLive="polite",e.thumb.readerTitle=e.language.translate("Use arrow keys to zoom in and out"),e.minusButton.readerTitle=e.language.translate("Press ENTER to zoom in"),e.plusButton.readerTitle=e.language.translate("Press ENTER to zoom out"),e.applyTheme(),e.events.on("propertychanged",(function(t){"layout"==t.property&&e.fixLayout()}),void 0,!1),e._disposers.push(e._chart),e.fixLayout(),e}return Object(a.__extends)(e,t),e.prototype.fixLayout=function(){var t=this.plusButton,e=this.minusButton,i=this.thumb,n=this.slider;t.x=void 0,t.y=void 0,e.x=void 0,e.y=void 0,i.x=void 0,i.y=void 0,n.x=void 0,n.y=void 0,t.padding(6,10,6,10),e.padding(6,10,6,10),e.label.align="center",e.label.valign="middle",t.label.align="center",t.label.valign="middle","vertical"==this.layout?(this.width=40,this.height=void 0,e.width=Object(m.c)(100),e.height=void 0,i.width=Object(m.c)(100),i.height=void 0,t.width=Object(m.c)(100),t.height=void 0,n.width=Object(m.c)(100),e.marginTop=1,t.marginBottom=2,n.height=0,e.toFront(),t.toBack(),i.minX=0,i.maxX=0,i.minY=0):"horizontal"==this.layout&&(this.height=40,this.width=void 0,e.height=Object(m.c)(100),e.width=void 0,t.height=Object(m.c)(100),t.width=void 0,i.height=Object(m.c)(100),i.width=void 0,i.minX=0,i.minY=0,i.maxY=0,n.height=Object(m.c)(100),n.width=0,e.toBack(),t.toFront())},e.prototype.handleBackgroundClick=function(t){var e=t.target,i=t.spritePoint.y,n=this.chart,r=Math.log(n.maxZoomLevel)/Math.LN2,o=Math.log(n.minZoomLevel)/Math.LN2,a=Math.pow(2,(e.pixelHeight-i)/e.pixelHeight*(o+(r-o)));n.zoomToGeoPoint(n.zoomGeoPoint,a)},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){var e=this;this._chart.set(t,new _.c([t.events.on("maxsizechanged",this.updateThumbSize,this,!1),t.events.on("zoomlevelchanged",this.updateThumb,this,!1),this.minusButton.events.on("hit",(function(){t.zoomOut(t.zoomGeoPoint)}),t,!1),Object(g.b)().body.events.on("keyup",(function(i){e.topParent.hasFocused&&(d.b.isKey(i.event,"enter")?e.minusButton.isFocused?t.zoomOut():e.plusButton.isFocused&&t.zoomIn():d.b.isKey(i.event,"plus")?t.zoomIn():d.b.isKey(i.event,"minus")&&t.zoomOut())}),t),this.plusButton.events.on("hit",(function(){t.zoomIn(t.zoomGeoPoint)}),t,!1)]))},enumerable:!0,configurable:!0}),e.prototype.updateThumbSize=function(){if(this.chart){var t=this.slider,e=this.thumb;"vertical"==this.layout?(e.minHeight=Math.min(this.slider.pixelHeight,20),e.height=t.pixelHeight/this.stepCount,e.maxY=t.pixelHeight-e.pixelHeight,e.visible=!(e.pixelHeight<=1)):(e.minWidth=Math.min(this.slider.pixelWidth,20),e.width=t.pixelWidth/this.stepCount,e.maxX=t.pixelWidth-e.pixelWidth,e.visible=!(e.pixelWidth<=1))}},e.prototype.updateThumb=function(){var t=this.slider,e=this.thumb;if(!e.isDown){var i=(Math.log(this.chart.zoomLevel)-Math.log(this.chart.minZoomLevel))/Math.LN2;"vertical"==this.layout?e.y=t.pixelHeight-(t.pixelHeight-e.pixelHeight)*i/this.stepCount-e.pixelHeight:e.x=t.pixelWidth*i/this.stepCount}},e.prototype.handleThumbDrag=function(){var t,e=this.slider,i=this.chart,n=this.thumb;t=Math.log(this.chart.minZoomLevel)/Math.LN2+(t="vertical"==this.layout?this.stepCount*(e.pixelHeight-n.pixelY-n.pixelHeight)/(e.pixelHeight-n.pixelHeight):this.stepCount*n.pixelX/e.pixelWidth);var r=Math.pow(2,t);i.zoomToGeoPoint(void 0,r,!1,0)},Object.defineProperty(e.prototype,"stepCount",{get:function(){return Math.log(this.chart.maxZoomLevel)/Math.LN2-Math.log(this.chart.minZoomLevel)/Math.LN2},enumerable:!0,configurable:!0}),e.prototype.createBackground=function(){return new h.a},e}(c.a);function to(t,e){return[t,Nt(Bt((Ot+e)/2))]}f.c.registeredClasses.ZoomControl=$r,to.invert=function(t,e){return[t,2*Vt(Et(e))-Ot]};var eo=function(){return io(to).scale(961/Lt)};function io(t){var e,i,n,r=sn(t),o=r.center,a=r.scale,s=r.translate,l=r.clipExtent,u=null;function h(){var o=Ct*a(),s=r(ei(r.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===to?[[Math.max(s[0]-o,u),e],[Math.min(s[0]+o,i),n]]:[[u,Math.max(s[1]-o,e)],[i,Math.min(s[1]+o,n)]])}return r.scale=function(t){return arguments.length?(a(t),h()):a()},r.translate=function(t){return arguments.length?(s(t),h()):s()},r.center=function(t){return arguments.length?(o(t),h()):o()},r.clipExtent=function(t){return arguments.length?(null==t?u=e=i=n=null:(u=+t[0][0],e=+t[0][1],i=+t[1][0],n=+t[1][1]),h()):null==u?null:[[u,e],[i,n]]},h()}var no=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=eo(),e}return Object(a.__extends)(e,t),e}(xr);f.c.registeredClasses.Mercator=no;var ro=Math.abs,oo=Math.atan,ao=(Math,Math,Math.cos),so=Math.exp,lo=(Math,Math.log),uo=(Math,Math,Math,Math,Math,Math.sin),ho=Math.tan,co=1e-6,po=Math.PI,fo=po/2,go=po/4;function mo(t){return t>1?fo:t<-1?-fo:Math.asin(t)}function yo(t){return t>0?Math.sqrt(t):0}function vo(t,e){return[t,1.25*lo(ho(go+.4*e))]}Math,yo(2),yo(po),vo.invert=function(t,e){return[t,2.5*oo(so(.8*e))-.625*po]};var bo=function(){return sn(vo).scale(108.318)},xo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=bo(),e}return Object(a.__extends)(e,t),e}(xr);function Po(t,e){for(var i=(1+fo)*uo(e),n=0,r=1/0;n<10&&ro(r)>co;n++)e-=r=(e+uo(e)-i)/(1+ao(e));return i=yo(2+po),[t*(1+ao(e))/i,2*e/i]}f.c.registeredClasses.Miller=xo,Po.invert=function(t,e){var i=1+fo,n=yo(i/2);return[2*t*n/(1+ao(e*=n)),mo((e+uo(e))/i)]};var _o=function(){return sn(Po).scale(173.044)},Mo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=_o(),e}return Object(a.__extends)(e,t),e}(xr);function Co(t){return function(e,i){var n=kt(e),r=kt(i),o=t(n*r);return[o*r*Ft(e),o*Ft(i)]}}function Oo(t){return function(e,i){var n=Gt(e*e+i*i),r=t(n),o=Ft(r),a=kt(r);return[It(e*o,n*a),Wt(n&&i*o/n)]}}function jo(t,e){return[kt(e)*Ft(t),Ft(e)]}f.c.registeredClasses.Eckert6=Mo,jo.invert=Oo(Wt);var Lo=function(){return sn(jo).scale(249.5).clipAngle(90+_t)},So=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Lo(),e}return Object(a.__extends)(e,t),e}(xr);function To(t,e){var i=kt(e),n=1+kt(t)*i;return[i*Ft(t)/n,Ft(e)/n]}f.c.registeredClasses.Orthographic=So,To.invert=Oo((function(t){return 2*Vt(t)}));var wo=function(){return sn(To).scale(250).clipAngle(142)},Vo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=wo(),e}return Object(a.__extends)(e,t),e}(xr);function Io(t){var e=0,i=Ct/3,n=ln(t),r=n(e,i);return r.parallels=function(t){return arguments.length?n(e=t[0]*Tt,i=t[1]*Tt):[e*St,i*St]},r}function ko(t,e){var i=Ft(t),n=(i+Ft(e))/2;if(wt(n)<_t)return function(t){var e=kt(t);function i(t,i){return[t*e,Ft(i)/e]}return i.invert=function(t,i){return[t/e,Wt(i*e)]},i}(t);var r=1+i*(2*n-i),o=Gt(r)/n;function a(t,e){var i=Gt(r-2*n*Ft(e))/n;return[i*Ft(t*=n),o-i*kt(t)]}return a.invert=function(t,e){var i=o-e;return[It(t,wt(i))/n*Rt(i),Wt((r-(t*t+i*i)*n*n)/(2*n))]},a}f.c.registeredClasses.Stereographic=Vo;var Do=function(){return Io(ko).scale(155.424).center([0,33.6442])},Eo=function(){return Do().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},No=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Eo(),e}return Object(a.__extends)(e,t),e}(xr);f.c.registeredClasses.Albers=No;var Ao=function(){var t,e,i,n,r,o,a=Eo(),s=Do().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Do().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){o=[t,e]}};function h(t){var e=t[0],a=t[1];return o=null,i.point(e,a),o||(n.point(e,a),o)||(r.point(e,a),o)}function c(){return t=e=null,h}return h.invert=function(t){var e=a.scale(),i=a.translate(),n=(t[0]-i[0])/e,r=(t[1]-i[1])/e;return(r>=.12&&r<.234&&n>=-.425&&n<-.214?s:r>=.166&&r<.234&&n>=-.214&&n<-.115?l:a).invert(t)},h.stream=function(i){return t&&e===i?t:(n=[a.stream(e=i),s.stream(i),l.stream(i)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},h.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),c()):a.precision()},h.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),h.translate(a.translate())):a.scale()},h.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],h=+t[1];return i=a.translate(t).clipExtent([[o-.455*e,h-.238*e],[o+.455*e,h+.238*e]]).stream(u),n=s.translate([o-.307*e,h+.201*e]).clipExtent([[o-.425*e+_t,h+.12*e+_t],[o-.214*e-_t,h+.234*e-_t]]).stream(u),r=l.translate([o-.205*e,h+.212*e]).clipExtent([[o-.214*e+_t,h+.166*e+_t],[o-.115*e-_t,h+.234*e-_t]]).stream(u),c()},h.fitExtent=function(t,e){return qi(h,t,e)},h.fitSize=function(t,e){return Ji(h,t,e)},h.fitWidth=function(t,e){return Qi(h,t,e)},h.fitHeight=function(t,e){return $i(h,t,e)},h.scale(1070)},Fo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Ao(),e}return Object(a.__extends)(e,t),e}(xr);function Ro(t,e){var i=e*e,n=i*i;return[t*(.8707-.131979*i+n*(n*(.003971*i-.001529*n)-.013791)),e*(1.007226+i*(.015085+n*(.028874*i-.044475-.005916*n)))]}f.c.registeredClasses.AlbersUsa=Fo,Ro.invert=function(t,e){var i,n=e,r=25;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(wt(i)>_t&&--r>0);return[t/(.8707+(o=n*n)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),n]};var Go=function(){return sn(Ro).scale(175.295)},Bo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Go(),e}return Object(a.__extends)(e,t),e}(xr);f.c.registeredClasses.NaturalEarth1=Bo;var zo=Co((function(t){return Gt(2/(1+t))}));zo.invert=Oo((function(t){return 2*Wt(t/2)}));var Wo=function(){return sn(zo).scale(124.75).clipAngle(179.999)},Ho=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Wo(),e}return Object(a.__extends)(e,t),e}(xr);f.c.registeredClasses.AzimuthalEqualArea=Ho;var Zo=1.340264,Xo=-.081106,Yo=893e-6,Uo=.003796,Ko=Gt(3)/2;function qo(t,e){var i=Wt(Ko*Ft(e)),n=i*i,r=n*n*n;return[t*kt(i)/(Ko*(Zo+3*Xo*n+r*(7*Yo+9*Uo*n))),i*(Zo+Xo*n+r*(Yo+Uo*n))]}qo.invert=function(t,e){for(var i,n=e,r=n*n,o=r*r*r,a=0;a<12&&(o=(r=(n-=i=(n*(Zo+Xo*r+o*(Yo+Uo*r))-e)/(Zo+3*Xo*r+o*(7*Yo+9*Uo*r)))*n)*r*r,!(wt(i)<Mt));++a);return[Ko*t*(Zo+3*Xo*r+o*(7*Yo+9*Uo*r))/kt(n),Wt(Ft(n)/Ko)]};var Jo,Qo,$o,ta,ea,ia,na,ra,oa,aa,sa,la,ua,ha,ca,pa,da=function(){return sn(qo).scale(177.158)},fa=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=da(),e}return Object(a.__extends)(e,t),e}(xr);f.c.registeredClasses.EqualEarth=fa;var ga={sphere:Zt,point:ma,lineStart:va,lineEnd:Pa,polygonStart:function(){ga.lineStart=_a,ga.lineEnd=Ma},polygonEnd:function(){ga.lineStart=va,ga.lineEnd=Pa}};function ma(t,e){t*=Tt;var i=kt(e*=Tt);ya(i*kt(t),i*Ft(t),Ft(e))}function ya(t,e,i){$o+=(t-$o)/++Jo,ta+=(e-ta)/Jo,ea+=(i-ea)/Jo}function va(){ga.point=ba}function ba(t,e){t*=Tt;var i=kt(e*=Tt);ha=i*kt(t),ca=i*Ft(t),pa=Ft(e),ga.point=xa,ya(ha,ca,pa)}function xa(t,e){t*=Tt;var i=kt(e*=Tt),n=i*kt(t),r=i*Ft(t),o=Ft(e),a=It(Gt((a=ca*o-pa*r)*a+(a=pa*n-ha*o)*a+(a=ha*r-ca*n)*a),ha*n+ca*r+pa*o);Qo+=a,ia+=a*(ha+(ha=n)),na+=a*(ca+(ca=r)),ra+=a*(pa+(pa=o)),ya(ha,ca,pa)}function Pa(){ga.point=ma}function _a(){ga.point=Ca}function Ma(){Oa(la,ua),ga.point=ma}function Ca(t,e){la=t,ua=e,t*=Tt,e*=Tt,ga.point=Oa;var i=kt(e);ha=i*kt(t),ca=i*Ft(t),pa=Ft(e),ya(ha,ca,pa)}function Oa(t,e){t*=Tt;var i=kt(e*=Tt),n=i*kt(t),r=i*Ft(t),o=Ft(e),a=ca*o-pa*r,s=pa*n-ha*o,l=ha*r-ca*n,u=Gt(a*a+s*s+l*l),h=Wt(u),c=u&&-h/u;oa+=c*a,aa+=c*s,sa+=c*l,Qo+=h,ia+=h*(ha+(ha=n)),na+=h*(ca+(ca=r)),ra+=h*(pa+(pa=o)),ya(ha,ca,pa)}var ja=function(t){Jo=Qo=$o=ta=ea=ia=na=ra=oa=aa=sa=0,ie(t,ga);var e=oa,i=aa,n=sa,r=e*e+i*i+n*n;return r<Mt&&(e=ia,i=na,n=ra,Qo<_t&&(e=$o,i=ta,n=ea),(r=e*e+i*i+n*n)<Mt)?[NaN,NaN]:[It(i,e)*St,Wt(n/Gt(r))*St]},La=function(){var t,e,i,n=0,r=0,o=960,a=500;return i={stream:function(i){return t&&e===i?t:t=Ri(n,r,o,a)(e=i)},extent:function(s){return arguments.length?(n=+s[0][0],r=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,i):[[n,r],[o,a]]}}},Sa={Feature:function(t,e){return wa(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)if(wa(i[n].geometry,e))return!0;return!1}},Ta={Sphere:function(){return!0},Point:function(t,e){return Va(t.coordinates,e)},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(Va(i[n],e))return!0;return!1},LineString:function(t,e){return Ia(t.coordinates,e)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(Ia(i[n],e))return!0;return!1},Polygon:function(t,e){return ka(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(ka(i[n],e))return!0;return!1},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)if(wa(i[n],e))return!0;return!1}};function wa(t,e){return!(!t||!Ta.hasOwnProperty(t.type))&&Ta[t.type](t,e)}function Va(t,e){return 0===br(t,e)}function Ia(t,e){for(var i,n,r,o=0,a=t.length;o<a;o++){if(0===(n=br(t[o],e)))return!0;if(o>0&&(r=br(t[o],t[o-1]))>0&&i<=r&&n<=r&&(i+n-r)*(1-Math.pow((i-n)/r,2))<Mt*r)return!0;i=n}return!1}function ka(t,e){return!!Li(t.map(Da),Ea(e))}function Da(t){return(t=t.map(Ea)).pop(),t}function Ea(t){return[t[0]*Tt,t[1]*Tt]}var Na=function(t,e){return(t&&Sa.hasOwnProperty(t.type)?Sa[t.type]:wa)(t,e)},Aa=Co((function(t){return(t=zt(t))&&t/Ft(t)}));Aa.invert=Oo((function(t){return t}));var Fa=function(){return sn(Aa).scale(79.4188).clipAngle(179.999)};function Ra(t){return Bt((Ot+t)/2)}function Ga(t,e){var i=kt(t),n=t===e?Ft(t):Nt(i/kt(e))/Nt(Ra(e)/Ra(t)),r=i*At(Ra(t),n)/n;if(!n)return to;function o(t,e){r>0?e<-Ot+_t&&(e=-Ot+_t):e>Ot-_t&&(e=Ot-_t);var i=r/At(Ra(e),n);return[i*Ft(n*t),r-i*kt(n*t)]}return o.invert=function(t,e){var i=r-e,o=Rt(n)*Gt(t*t+i*i);return[It(t,wt(i))/n*Rt(i),2*Vt(At(r/o,1/n))-Ot]},o}var Ba=function(){return Io(Ga).scale(109.5).parallels([30,30])};function za(t,e){var i=kt(t),n=t===e?Ft(t):(i-kt(e))/(e-t),r=i/n+t;if(wt(n)<_t)return un;function o(t,e){var i=r-e,o=n*t;return[i*Ft(o),r-i*kt(o)]}return o.invert=function(t,e){var i=r-e;return[It(t,wt(i))/n*Rt(i),r-Rt(n)*Gt(t*t+i*i)]},o}var Wa=function(){return Io(za).scale(131.154).center([0,13.9389])};function Ha(t,e){var i=kt(e),n=kt(t)*i;return[i*Ft(t)/n,Ft(e)/n]}Ha.invert=Oo(Vt);var Za=function(){return sn(Ha).scale(144.049).clipAngle(60)};function Xa(t,e,i,n){return 1===t&&1===e&&0===i&&0===n?Gi:zi({point:function(r,o){this.stream.point(r*t+i,o*e+n)}})}var Ya=function(){var t,e,i,n,r,o,a=1,s=0,l=0,u=1,h=1,c=Gi,p=null,d=Gi;function f(){return n=r=null,o}return o={stream:function(t){return n&&r===t?n:n=c(d(r=t))},postclip:function(n){return arguments.length?(d=n,p=t=e=i=null,f()):d},clipExtent:function(n){return arguments.length?(d=null==n?(p=t=e=i=null,Gi):Ri(p=+n[0][0],t=+n[0][1],e=+n[1][0],i=+n[1][1]),f()):null==p?null:[[p,t],[e,i]]},scale:function(t){return arguments.length?(c=Xa((a=+t)*u,a*h,s,l),f()):a},translate:function(t){return arguments.length?(c=Xa(a*u,a*h,s=+t[0],l=+t[1]),f()):[s,l]},reflectX:function(t){return arguments.length?(c=Xa(a*(u=t?-1:1),a*h,s,l),f()):u<0},reflectY:function(t){return arguments.length?(c=Xa(a*u,a*(h=t?-1:1),s,l),f()):h<0},fitExtent:function(t,e){return qi(o,t,e)},fitSize:function(t,e){return Ji(o,t,e)},fitWidth:function(t,e){return Qi(o,t,e)},fitHeight:function(t,e){return $i(o,t,e)}}};function Ua(t,e){return[Nt(Bt((Ot+e)/2)),-t]}Ua.invert=function(t,e){return[-e,2*Vt(Et(t))-Ot]};var Ka=function(){var t=io(Ua),e=t.center,i=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?i([t[0],t[1],t.length>2?t[2]+90:90]):[(t=i())[0],t[1],t[2]-90]},i([0,0,90]).scale(159.155)};i.d(e,"LegendDataItem",(function(){return j})),i.d(e,"Legend",(function(){return S})),i.d(e,"LegendSettings",(function(){return L})),i.d(e,"HeatLegend",(function(){return rt})),i.d(e,"MapChartDataItem",(function(){return Wr})),i.d(e,"MapChart",(function(){return Hr})),i.d(e,"MapSeriesDataItem",(function(){return Be})),i.d(e,"MapSeries",(function(){return ze})),i.d(e,"MapObject",(function(){return We})),i.d(e,"MapPolygon",(function(){return gi})),i.d(e,"MapImage",(function(){return He})),i.d(e,"MapLine",(function(){return kr})),i.d(e,"MapLineObject",(function(){return Sr})),i.d(e,"MapSpline",(function(){return Xr})),i.d(e,"MapArc",(function(){return Ur})),i.d(e,"Graticule",(function(){return Nr})),i.d(e,"MapPolygonSeriesDataItem",(function(){return mi})),i.d(e,"MapPolygonSeries",(function(){return yi})),i.d(e,"MapLineSeriesDataItem",(function(){return Dr})),i.d(e,"MapLineSeries",(function(){return Er})),i.d(e,"MapSplineSeriesDataItem",(function(){return Kr})),i.d(e,"MapSplineSeries",(function(){return qr})),i.d(e,"MapImageSeriesDataItem",(function(){return Tr})),i.d(e,"MapImageSeries",(function(){return wr})),i.d(e,"MapArcSeriesDataItem",(function(){return Jr})),i.d(e,"MapArcSeries",(function(){return Qr})),i.d(e,"GraticuleSeriesDataItem",(function(){return Br})),i.d(e,"GraticuleSeries",(function(){return zr})),i.d(e,"multiPolygonToGeo",(function(){return oi})),i.d(e,"multiLineToGeo",(function(){return ai})),i.d(e,"multiPointToGeo",(function(){return si})),i.d(e,"pointToGeo",(function(){return ui})),i.d(e,"multiGeoPolygonToMultipolygon",(function(){return pi})),i.d(e,"getBackground",(function(){return fi})),i.d(e,"multiGeoLineToMultiLine",(function(){return ci})),i.d(e,"multiGeoToPoint",(function(){return li})),i.d(e,"getCircle",(function(){return di})),i.d(e,"ZoomControl",(function(){return $r})),i.d(e,"SmallMap",(function(){return Mr})),i.d(e,"Projection",(function(){return xr})),i.d(e,"projections",(function(){return r})),i.d(e,"geo",(function(){return n})),i.d(e,"d3geo",(function(){return o}))},mYRP:function(t,e,i){"use strict";var n=i("+jW5");function r(t,e,i){var r,s,l,u;e=e||1;for(var h=0;h<t[0].length;h++){var c=t[0][h];(!h||c[0]<r)&&(r=c[0]),(!h||c[1]<s)&&(s=c[1]),(!h||c[0]>l)&&(l=c[0]),(!h||c[1]>u)&&(u=c[1])}var p=l-r,d=u-s,f=Math.min(p,d),g=f/2,m=new n(null,o);if(0===f)return[r,s];for(var y=r;y<l;y+=f)for(var v=s;v<u;v+=f)m.push(new a(y+g,v+g,g,t));var b=function(t){for(var e=0,i=0,n=0,r=t[0],o=0,s=r.length,l=s-1;o<s;l=o++){var u=r[o],h=r[l],c=u[0]*h[1]-h[0]*u[1];i+=(u[0]+h[0])*c,n+=(u[1]+h[1])*c,e+=3*c}return 0===e?new a(r[0][0],r[0][1],0,t):new a(i/e,n/e,0,t)}(t),x=new a(r+p/2,s+d/2,0,t);x.d>b.d&&(b=x);for(var P=m.length;m.length;){var _=m.pop();_.d>b.d&&(b=_,i&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,P)),_.max-b.d<=e||(m.push(new a(_.x-(g=_.h/2),_.y-g,g,t)),m.push(new a(_.x+g,_.y-g,g,t)),m.push(new a(_.x-g,_.y+g,g,t)),m.push(new a(_.x+g,_.y+g,g,t)),P+=4)}return i&&(console.log("num probes: "+P),console.log("best distance: "+b.d)),[b.x,b.y]}function o(t,e){return e.max-t.max}function a(t,e,i,n){this.x=t,this.y=e,this.h=i,this.d=function(t,e,i){for(var n=!1,r=1/0,o=0;o<i.length;o++)for(var a=i[o],l=0,u=a.length,h=u-1;l<u;h=l++){var c=a[l],p=a[h];c[1]>e!=p[1]>e&&t<(p[0]-c[0])*(e-c[1])/(p[1]-c[1])+c[0]&&(n=!n),r=Math.min(r,s(t,e,c,p))}return(n?1:-1)*Math.sqrt(r)}(t,e,n),this.max=this.d+this.h*Math.SQRT2}function s(t,e,i,n){var r=i[0],o=i[1],a=n[0]-r,s=n[1]-o;if(0!==a||0!==s){var l=((t-r)*a+(e-o)*s)/(a*a+s*s);l>1?(r=n[0],o=n[1]):l>0&&(r+=a*l,o+=s*l)}return(a=t-r)*a+(s=e-o)*s}t.exports=r,t.exports.default=r}}]);